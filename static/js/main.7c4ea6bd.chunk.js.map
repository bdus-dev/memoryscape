{"version":3,"sources":["img/home-background.jpg","img/internal-background.jpg","img/video-bg.mp4","services/theming.js","components/Intro/Intro.jsx","components/Bar/Bar.jsx","services/Database.jsx","components/Map/OnEachFeature.jsx","components/Map/PointToLayer.jsx","components/Map/Map.jsx","components/Templates/InternalTmpl.jsx","components/Search/Pagination.jsx","components/Search/Results.jsx","components/Search/ThemesList.jsx","components/Search/PlacesList.jsx","components/Search/YearsList.jsx","components/Search/FilterModal.jsx","components/Search/Search.jsx","components/Clip/Record.jsx","components/Clip/Clip.jsx","components/About/About.jsx","App.jsx","registerServiceWorker.js","index.js"],"names":["module","exports","colors","red","id","name","import","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","gray","blueGray","types","light","dark","getColor","colorId","_","camelCase","getType","typeId","defaultPrimaryColor","process","defaultSecondaryColor","defaultType","defaultTheme","createMuiTheme","palette","primary","secondary","type","primaryColor","secondaryColor","typography","fontFamily","overrides","MuiCssBaseline","theming","isDefaultTheme","theme","createTheme","useStyles","makeStyles","homeContainer","backgroundImage","backGroundImage","backgroundPosition","backgroundRepeat","backgroundSize","maxWidth","boxContainer","padding","spacing","height","display","flexDirection","justifyContent","textBox","textAlign","color","marginTop","paddingTop","mainTitle","fontSize","letterSpacing","marginBlockStart","languageContainer","marginBottom","buttomLang","fontWeight","Intro","changeLang","classes","history","useHistory","selectLang","lang","push","className","Container","fixed","Typography","component","style","Box","Button","onClick","appBar","backgroundColor","boxShadow","mainToolBar","iconMenu","popoverPaper","width","maxHeight","top","left","breakpoints","down","menuContent","marginRight","margin","menuItem","colorWhite","contactParagraph","lineHeight","titleMenu","menuLink","textDecoration","closeMenuContainer","position","right","Bar","props","useState","anchorEl","setAnchorEl","handleClose","gotoPage","page","AppBar","Toolbar","variant","IconButton","edge","aria-label","event","currentTarget","Menu","PopoverClasses","paper","list","open","Boolean","onClose","keepMounted","MenuItem","Database","url","params","callback","apiVersion","baseUrl","window","location","hostname","axios","method","headers","then","res","data","console","log","text","catch","Error","message","cb","this","_getData","tb","d","verb","string","fld","val","strict","Object","entries","forEach","k","v","f","o","c","voc","sql","q_encoded","decade","includes","start_y","parseInt","where","btoa","replace","feature","layer","properties","html","tit","videoid","aut","anno","bindPopup","t","i","L","CircleMarker","radius","weight","fillOpacity","Mappa","match","geoJson","setGeoJson","React","createRef","mapRef","qstring","qs","parse","search","ignoreQueryPrefix","useEffect","getMsGeoJson","result","Map","center","zoom","ref","TileLayer","rockandroll","attribution","GeoJSON","pointToLayer","onEachFeature","onAdd","a","bounds","target","getBounds","current","leafletElement","fitBounds","backgroundAttachment","minHeight","video","background","bottom","zIndex","minWidth","InternalTmpl","isMobile","children","darkBg","autoPlay","loop","src","backGroundVideo","Pagination","go2page","head","recTotal","total_rows","recShownStart","recShownEnd","no_records_shown","pageCurr","pageTot","total_pages","prevPageLink","qsCopy","assign","qString","stringify","nextPageLink","firstPageLink","lastPageLink","p","my","Grid","justify","container","alignItems","item","values","start","end","tot","ButtonGroup","size","disabled","pageNo","GridListTileBar","GridListTileBarTitle","textTransform","Results","setResult","suppressEmpty","title","cols","useMediaQuery","getDecade","year_start","year_end","places","themes","ys","ye","split","map","e","getAdv","author","getSimple","getAll","GridList","cellHeight","records","row","GridListTile","key","alt","root","mx","subtitle","actionIcon","CircularProgress","fabTheme","borderRadius","ThemesList","onThemeSelect","setThemes","getVocabulary","Fragment","Fab","trim","PlacesList","onPlaceSelect","setPlaces","getUniqueVal","YearsList","onYearSelect","dialogContainer","filterBtn","dialogContent","marginLeft","footerContainer","clearIcon","clearBtn","applyBtn","Transition","forwardRef","Slide","direction","FilterModal","setOpen","Dialog","fullScreen","TransitionComponent","DialogContent","sm","md","Paper","xs","DialogActions","autoFocus","yearButton","filterContainer","Search","Number","Record","viewVideo","setViewVideo","clipId","getOne","core","YouTube","videoId","onEnd","luogo","formato","inv","durata","descr","temi","Clip","About","messages","it","en","ReactDOM","render","setLang","locale","CssBaseline","exact","path","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7c4ea6bd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-background.69f0cdef.jpg\";","module.exports = __webpack_public_path__ + \"static/media/internal-background.a7496dd4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/video-bg.f8f6540d.mp4\";","import { createMuiTheme } from '@material-ui/core/styles';\nimport _ from 'lodash';\n\nimport red from '@material-ui/core/colors/red';\nimport pink from '@material-ui/core/colors/pink';\nimport purple from '@material-ui/core/colors/purple';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport indigo from '@material-ui/core/colors/indigo';\nimport blue from '@material-ui/core/colors/blue';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport cyan from '@material-ui/core/colors/cyan';\nimport teal from '@material-ui/core/colors/teal';\nimport green from '@material-ui/core/colors/green';\nimport lightGreen from '@material-ui/core/colors/lightGreen';\nimport lime from '@material-ui/core/colors/lime';\nimport yellow from '@material-ui/core/colors/yellow';\nimport amber from '@material-ui/core/colors/amber';\nimport orange from '@material-ui/core/colors/orange';\nimport deepOrange from '@material-ui/core/colors/deepOrange';\nimport brown from '@material-ui/core/colors/brown';\nimport gray from '@material-ui/core/colors/grey';\nimport blueGray from '@material-ui/core/colors/blueGrey';\n\nconst colors = {\n  red: {\n    id: 'red',\n    name: 'Red',\n    import: red,\n  },\n\n  pink: {\n    id: 'pink',\n    name: 'Pink',\n    import: pink,\n  },\n\n  purple: {\n    id: 'purple',\n    name: 'Purple',\n    import: purple,\n  },\n\n  deepPurple: {\n    id: 'deep-purple',\n    name: 'Deep Purple',\n    import: deepPurple,\n  },\n\n  indigo: {\n    id: 'indigo',\n    name: 'Indigo',\n    import: indigo,\n  },\n\n  blue: {\n    id: 'blue',\n    name: 'Blue',\n    import: blue,\n  },\n\n  lightBlue: {\n    id: 'light-blue',\n    name: 'Light Blue',\n    import: lightBlue,\n  },\n\n  cyan: {\n    id: 'cyan',\n    name: 'Cyan',\n    import: cyan,\n  },\n\n  teal: {\n    id: 'teal',\n    name: 'Teal',\n    import: teal,\n  },\n\n  green: {\n    id: 'green',\n    name: 'Green',\n    import: green,\n  },\n\n  lightGreen: {\n    id: 'light-green',\n    name: 'Light Green',\n    import: lightGreen,\n  },\n\n  lime: {\n    id: 'lime',\n    name: 'Lime',\n    import: lime,\n  },\n\n  yellow: {\n    id: 'yellow',\n    name: 'Yellow',\n    import: yellow,\n  },\n\n  amber: {\n    id: 'amber',\n    name: 'Amber',\n    import: amber,\n  },\n\n  orange: {\n    id: 'orange',\n    name: 'Orange',\n    import: orange,\n  },\n\n  deepOrange: {\n    id: 'deep-orange',\n    name: 'Deep Orange',\n    import: deepOrange,\n  },\n\n  brown: {\n    id: 'brown',\n    name: 'Brown',\n    import: brown,\n  },\n\n  gray: {\n    id: 'gray',\n    name: 'Gray',\n    import: gray,\n  },\n\n  blueGray: {\n    id: 'blue-gray',\n    name: 'Blue Gray',\n    import: blueGray,\n  }\n};\n\nconst types = {\n  light: {\n    id: 'light',\n    name: 'Light',\n  },\n\n  dark: {\n    id: 'dark',\n    name: 'Dark',\n  }\n};\n\nconst getColor = (colorId) => {\n  if (!colorId) {\n    return null;\n  }\n  \n  colorId = _.camelCase(colorId);\n\n  return colors[colorId];\n};\n\nconst getType = (typeId) => {\n  if (!typeId) {\n    return null;\n  }\n\n  return types[typeId];\n};\n\nconst defaultPrimaryColor = getColor(process.env.REACT_APP_THEME_PRIMARY_COLOR);\nconst defaultSecondaryColor = getColor(process.env.REACT_APP_THEME_SECONDARY_COLOR);\nconst defaultType = getType(process.env.REACT_APP_THEME_TYPE);\n\n// Dichiaro il font base per il sito\n\nconst defaultTheme = createMuiTheme({\n  palette: {\n    primary: defaultPrimaryColor.import,\n    secondary: defaultSecondaryColor.import,\n    type: defaultType.id,\n  },\n\n  primaryColor: defaultPrimaryColor,\n  secondaryColor: defaultSecondaryColor,\n  type: defaultType,\n\n  typography: {\n    fontFamily: 'Poppins',\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': 'Poppins',\n      },\n    },\n  },\n});\n\nconst theming = {};\n\ntheming.colors = colors;\ntheming.types = types;\n\ntheming.defaultPrimaryColor = defaultPrimaryColor;\ntheming.defaultSecondaryColor = defaultSecondaryColor;\ntheming.defaultType = defaultType;\n\ntheming.defaultTheme = defaultTheme;\n\n/**\n * Returns whether a theme is the default theme.\n * @param theme\n * @returns {boolean}\n */\ntheming.isDefaultTheme = (theme) => {\n  if (!theme) {\n    return false;\n  }\n\n  if (theme.primaryColor.id === defaultPrimaryColor.id &&\n      theme.secondaryColor.id === defaultSecondaryColor.id &&\n      theme.type.id === defaultType.id) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Creates a Material-UI theme from a JSON theme object.\n * @param theme\n * @returns {null|Theme}\n */\ntheming.createTheme = (theme) => {\n  if (!theme) {\n    return null;\n  }\n  let { primaryColor, secondaryColor, type } = theme;\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  primaryColor = getColor(primaryColor);\n  secondaryColor = getColor(secondaryColor);\n  type = getType(type);\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  theme = createMuiTheme({\n    palette: {\n      primary: primaryColor.import,\n      secondary: secondaryColor.import,\n      type: type.id\n    },\n\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    type: type\n  });\n\n  return theme;\n};\n\nexport default theming;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Container, Typography, Box, Button } from '@material-ui/core';\nimport backGroundImage from '../../img/home-background.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  homeContainer: {\n    backgroundImage: `url(${backGroundImage})`,\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    maxWidth: '100%',\n  },\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    height: 200,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  textBox: {\n    textAlign: 'center',\n    color: '#fff',\n    marginTop: 'auto',\n    paddingTop: '9em',\n  },\n  mainTitle: {\n    fontSize: '3.2em',\n    letterSpacing: '0.1em',\n    marginBlockStart: '0',\n  },\n  languageContainer: {\n    marginTop: 'auto',\n    marginBottom: '6em',\n    textAlign: 'center',\n  },\n  buttomLang: {\n    color: '#fff',\n    fontWeight: '900',\n  },\n}));\n\nexport default function Intro({ changeLang }) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const selectLang = (lang) => {\n    changeLang(lang);\n    history.push(`/${lang}/search/`);\n  };\n\n  return (\n    <div className={classes.homeContainer}>\n      <Container fixed>\n        <Typography className={classes.boxContainer} component=\"div\" style={{ height: '100vh' }}>\n          <Box className={classes.textBox}>\n            <h5>HOME MOVIES DIGITAL ARCHIVE</h5>\n            <h2 className={classes.mainTitle}>Viaggio in Italia</h2>\n          </Box>\n          <Box className={classes.languageContainer}>\n            <Button className={classes.buttomLang} onClick={() => selectLang('it')}>ITA</Button>\n            <Button className={classes.buttomLang} onClick={() => selectLang('en')}>ENG</Button>\n          </Box>\n        </Typography>\n      </Container>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport MenuSharp from '@material-ui/icons/MenuSharp';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/styles';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { FormattedHTMLMessage } from 'react-intl';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n  },\n  mainToolBar: {\n    flexDirection: 'row-reverse',\n  },\n  iconMenu: {\n    fontSize: '2.5rem',\n  },\n  popoverPaper: {\n    width: '100%',\n    height: '100vh',\n    maxHeight: '100vh',\n    maxWidth: 'unset',\n    top: '0 !important',\n    backgroundColor: '#000000cc',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    left: '0 !important',\n    [theme.breakpoints.down(800)]: {\n      textAlign: 'center',\n    },\n  },\n  menuContent: {\n    maxHeight: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    [theme.breakpoints.down(800)]: {\n      flexDirection: 'column',\n    },\n    justifyContent: 'center',\n    position: 'initial',\n    '& div': {\n      marginRight: '3em',\n      [theme.breakpoints.down(800)]: {\n        margin: 'auto',\n      },\n    },\n  },\n  menuItem: {\n    color: '#fff',\n    fontSize: '3.4em',\n    fontWeight: '500',\n    '&:hover': {\n      color: '#7a1dcf',\n    },\n  },\n  colorWhite: {\n    color: '#fff',\n  },\n  contactParagraph: {\n    color: '#7b7878',\n    fontSize: '1em',\n    lineHeight: '1.8em',\n  },\n  titleMenu: {\n    letterSpacing: '0.1em',\n  },\n  menuLink: {\n    textDecoration: 'none',\n    display: 'block',\n    '&:hover': {\n      textDecoration: 'none',\n    },\n  },\n  closeMenuContainer: {\n    position: 'absolute',\n    marginRight: '0.8em !important',\n    top: '0',\n    right: '0',\n    '& button': {\n      color: '#fff',\n      fontSize: '2.5rem',\n    },\n  },\n}));\n\nexport default function Bar(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const history = useHistory();\n\n  const lang = props.lang;\n\n  const handleMenuIconClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const gotoPage = (page) => {\n    history.push(page);\n  };\n\n  return (\n    <AppBar color=\"primary\" position=\"fixed\" className={classes.appBar}>\n      <Toolbar variant=\"regular\" className={classes.mainToolBar}>\n        <IconButton edge=\"end\" color=\"inherit\" aria-label=\"menu\" onClick={handleMenuIconClick}>\n          <MenuSharp className={classes.iconMenu} />\n        </IconButton>\n        <Menu\n          PopoverClasses={{ paper: classes.popoverPaper }}\n          classes={{ list: classes.menuContent }}\n          id=\"main-menu\"\n          anchorEl={anchorEl}\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n          keepMounted\n        >\n          <div className={classes.closeMenuContainer}>\n            <IconButton onClick={handleClose}>\n              <CloseIcon className={classes.iconMenu} />\n            </IconButton>\n          </div>\n          <div>\n            <MenuItem onClick={() => gotoPage('/')} className={classes.menuItem}>Home</MenuItem>\n            <MenuItem onClick={() => gotoPage(`/${lang}/map`)} className={classes.menuItem}>\n              <FormattedHTMLMessage id=\"app.menu.map\" />\n            </MenuItem>\n          </div>\n          <div>\n            <MenuItem onClick={() => gotoPage(`/${lang}/search/`)} className={classes.menuItem}>\n              <FormattedHTMLMessage id=\"app.menu.archive\" />\n            </MenuItem>\n            <MenuItem onClick={() => gotoPage(`/${lang}/about`)} className={classes.menuItem}>About</MenuItem>\n          </div>\n          <div className={classes.colorWhite}>\n            <h5 className={classes.titleMenu}>HOME MOVIES DIGITAL ARCHIVE</h5>\n            <p className={classes.contactParagraph}>\n              Home Movies\n              <br />\n              Via Santâ€™Isaia, 18 - 40123 Bologna, IT\n              <br />\n              Call - (+39) 051 3397243\n              <br />\n              Email -\n              <span className={classes.colorWhite}>info@homemovies.it</span>\n            </p>\n          </div>\n        </Menu>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import axios from 'axios';\n\nexport default class Database {\n\n  static _getData(url, params, callback, apiVersion) {\n\n    let baseUrl = 'https://db-dev.bradypus.net';\n\n    if (window.location.hostname === 'localhost'){\n      baseUrl = 'http://db.localhost';\n    }\n\n    baseUrl += `/api/${ apiVersion === 2 ? 'v2/' : '' }hm/`;\n\n    axios({\n      method: 'post',\n      url: baseUrl + url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      if (res.data.type && res.data.type === 'error'){\n        console.log('API error:');\n        console.log(res.data.text);\n        return false;\n      }\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  /**\n   * Inspects a atble and returns list of fields\n   * @param {function} cb Callback function\n   * @memberof Database\n   */\n  static inspect(cb) {\n    this._getData('' , {\n      tb: 'ms',\n      'verb':'inspect'\n    }, d => { cb(d); }, 2);\n  }\n\n  /**\n   * Get one record from Database\n   * @param {integer} id  Record IS\n   * @param {function} cb Callback function\n   * @memberof Database\n   */\n  static getOne(id, cb) {\n    this._getData('', {\n      tb : 'ms',\n      verb : 'read',\n      id : id\n    }, d => { cb(d); }, 2\n    );\n  }\n\n    /**\n   * Searches a string in all available fields of ms table\n   * @param {string} string   String to look for\n   * @param {integer} page    Page number to get from DB\n   * @param {function} cb     Callback function\n   * @memberof Database\n   */\n  static getStr(string, page, cb) {\n    this._getData('ms', {\n      verb: 'search',\n      type: 'fast',\n      string: string,\n      page: page\n    }, d => { cb(d); });\n  }\n\n  /**\n   * Gets all records from database\n   * @param {integer} page    Page number to get from DB\n   * @param {function} cb     Callback function\n   * @memberof Database\n   */\n  static getAll(page, cb) {\n    this._getData('ms', {\n      verb : 'search',\n      type: 'all',\n      page: page\n    }, d => { cb(d); });\n  }\n\n  /**\n   * Runs a simple (one field) query using = (strict) or LIKE\n   *\n   * @param {string} fld    Field to look in (prefix__app-name:fld-name)\n   * @param {string} val    Value to look for\n   * @param {boolean} strict  If true = operator will be used, otherwize LIKE\n   * @param {integer} page  Page number to get from DB\n   * @param {function} cb   Callback function\n   * @memberof Database\n   */\n  static getSimple(fld, val, strict, page, cb){\n    const data = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      'adv[a0][fld]': fld,\n      'adv[a0][operator]': strict ? '=' : 'LIKE',\n      'adv[a0][value]': val\n    };\n    this._getData('ms', data, d => { cb(d); });\n  }\n\n  /**\n   * Executes an advanced query on the database\n   * @param  {object}   data Object of query data: {a:{f:'fieldname', v:'value', o: 'operator'}, a2:{f:'fieldname', v:'value', o: 'operator', c: 'connector'}}\n   * @param  {integer}   page Page number to get from DB\n   * @param  {function} cb   Callback function\n   * @memberof Database\n   */\n  static getAdv(data, page, cb) {\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page\n    };\n    Object.entries(data).forEach(([k, v]) => {\n      d[`adv[${k}][fld]`] = v.f;\n      d[`adv[${k}][value]`] = v.v;\n      d[`adv[${k}][operator]`] = v.o;\n      d[`adv[${k}][connector]`] = v.c;\n    });\n\n    this._getData('ms', d, d => { cb(d); });\n  }\n\n\n  /**\n   * Gets list of unique values for a field from database\n   *\n   * @param {string} fld    field name\n   * @param {function} cb   callback function\n   * @memberof Database\n   */\n  static getUniqueVal(fld, cb) {\n    this._getData('', {\n      verb: 'getUniqueVal',\n      tb: 'ms',\n      fld: fld\n    }, d => { cb(d); }, 2);\n\n  }\n\n  /**\n   * Gets list of unique values for a vocabulary\n   *\n   * @param {string} voc    vocabulary name\n   * @param {function} cb   callback function\n   * @memberof Database\n   */\n  static getVocabulary(voc, cb) {\n    this._getData('', {\n      verb: 'getVocabulary',\n      voc: voc\n    }, d => { cb(d); }, 2);\n\n  }\n\n  /**\n   * Runs base64 encoded where statement\n   *\n   * @param {string} sql    Base64 encoded where statement\n   * @param {integer} page  Page number to get from DB \n   * @param {function} cb   Callback function\n   * @memberof Database\n   */\n  static getByEncodedSql(sql, page, cb) {\n    this._getData('ms', {\n      verb: 'search',\n      type: 'encoded',\n      q_encoded: sql,\n      page: page\n    }, d => { cb(d); });\n  }\n\n\n  static getDecade(decade, page, cb) {\n    if (![20, 30, 40, 50, 60, 70, 80, 90].includes(decade)){\n      console.log(`Invalid parameter decade: ${decade}`);\n      return false;\n    }\n    const start_y = parseInt(`19${decade}`) - 1;\n    const end_y = start_y + 10;\n    let d = {\n      verb: 'search',\n      type: 'advanced',\n      page: page,\n      \"adv[a][fld]\": \"hm__ms:anno\",\n      \"adv[a][value]\": start_y,\n      \"adv[a][operator]\": \">\",\n      \"adv[b][fld]\": \"hm__ms:anno\",\n      \"adv[b][value]\": end_y,\n      \"adv[b][operator]\": \"<\",\n      \"adv[b][connector]\": \"AND\",\n    };\n\n    this._getData('ms', d, d => { cb(d); });\n  }\n\n  static getMsGeoJson(where, cb) {\n    let data = {\n      \"join\": \"JOIN hm__geodata as g ON g.table_link = 'hm__ms' AND g.id_link = hm__ms.id \",\n      \"fields[g.geometry]\": \"Geometry\",\n      \"fields[hm__ms.id]\": \"Id\",\n      \"fields[hm__ms.videoid]\": \"ID Video\",\n      \"fields[hm__ms.tit]\": \"Titolo\",\n      \"fields[hm__ms.aut]\": \"Autore\",\n      \"fields[hm__ms.anno]\": \"Anno\",\n      \"group\": \"hm__ms.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": btoa( ( where ? where.replace(/`id`/gi, '`hm__ms`.`id`') : \" 1\" ))\n    };\n\n    this._getData(\n      'ms?verb=search&geojson=true&type=encoded',\n      data,\n      d => {\n        cb( d );\n      }\n    );\n  }\n\n}\n","// tODO: uare history per il bottone? come?\nexport default  (feature, layer, lang) => {\n  const props = feature.properties;\n  let html = `<h3>${props.tit}</h3>\n  <img src=\"https://img.youtube.com/vi/${props.videoid}/0.jpg\" alt={row.tit} alt=\"${props.tit}\" />\n  <p>${props.aut}\n  ${props.anno ? `<br /><strong>${props.anno}</strong>` : ''}</p>\n  <p class=\"button\"><a href=\"/${lang}/clip/${props.id}\">Apri</a></p>\n  `;\n  \n  layer.bindPopup(html);\n}","import L from 'leaflet';\n\nexport default  (t, i) => {\n  return new L.CircleMarker(i, {\n    radius: 6,\n    weight: 1,\n    color: 'rgb(123,30,207)', //#7b1ecf\n    fillOpacity: .7\n  });\n}","import React, { useState, useEffect} from 'react';\n\nimport { Map, TileLayer, GeoJSON } from 'react-leaflet'\n\nimport Bar from '../Bar/Bar';\n\nimport Database from '../../services/Database';\nimport onEachFeature from './OnEachFeature';\nimport pointToLayer from './PointToLayer';\nimport './Map.css';\n\nimport qs from 'qs';\n\n\n\nexport default function Mappa(props) {\n\n  const lang = props.lang || props.match.params.lang;\n  \n  const position = [44.4943823,11.3418609]\n\n  const [geoJson, setGeoJson] = useState();\n  \n  const [mapRef] = useState(React.createRef());\n\n  const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n\n\n  useEffect( () => {\n      Database.getMsGeoJson('1', result => {\n        setGeoJson(result);\n      });\n  }, []);\n\n\n  return (\n    <div className=\"mapContainer\">\n      <Bar lang={lang} />\n\n      <Map center={position} zoom={13} style={{ width: '100%', height: '100%'}}\n          ref={mapRef}>\n        <TileLayer\n          // url=\"https://{s}.tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png\"\n          // url=\"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png\"\n          url={qstring.rockandroll ? \"https://{s}.tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png\" : \"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"}\n          attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n        />\n        \n        {geoJson && <GeoJSON\n              data={geoJson}\n              pointToLayer={ (t, i) => pointToLayer(t, i) }\n              onEachFeature={ (feature, layer) => onEachFeature(feature, layer, lang) }\n              onAdd={ (a)=>{\n                const bounds = a.target.getBounds();\n                mapRef.current.leafletElement.fitBounds(bounds);\n              }}\n              />}\n      </Map>\n    </div>\n  );\n}\n","import React from 'react';\nimport {isMobile} from 'react-device-detect';\nimport { makeStyles } from '@material-ui/styles';\nimport Bar from '../Bar/Bar';\n\nimport { Container } from '@material-ui/core';\nimport backGroundImage from '../../img/internal-background.jpg';\nimport backGroundVideo from '../../img/video-bg.mp4';\n\nconst useStyles = makeStyles((theme) => ({\n  homeContainer: {\n    backgroundImage: `url(${backGroundImage})`,\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    maxWidth: '100%',\n    backgroundAttachment: 'fixed',\n    minHeight: '100vh',\n  },\n  video: {\n    background: '#000000',\n    position: 'fixed',\n    right: 0,\n    bottom: 0,\n    zIndex:-1,\n    minWidth: '100%',\n    minHeight: '100%'\n  }\n}));\n\nexport default function InternalTmpl(props) {\n  const classes = useStyles();\n  const lang = props.lang;\n\n  if (isMobile){\n    return <div>\n      {props.children}\n      </div>\n  } else {\n    return (\n      <div className={classes.darkBg}>\n        <video autoPlay loop className={classes.video}>\n          <source src={backGroundVideo} type=\"video/mp4\" />\n        </video>\n        <Bar lang={lang} />\n        <Container fixed>\n          { props.children }\n        </Container>\n      </div>\n    );\n  }\n\n  \n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport { FormattedHTMLMessage } from 'react-intl';\n\n\nimport qString from 'qs';\n\n\nexport default function Pagination (props) {\n\n    const history = useHistory();\n\n    const go2page = page => history.push(page);\n\n    const qs = props.qs;\n    const head = props.head;\n\n    const recTotal = parseInt(head.total_rows);\n    const recShownStart = parseInt(head.page)*30-30+1;\n    const recShownEnd = recShownStart + parseInt(head.no_records_shown)-1;\n    const pageCurr = parseInt(head.page);\n    const pageTot = parseInt(head.total_pages);\n    let prevPageLink = false;\n    if (pageCurr - 1 > 0){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageCurr - 1;\n        prevPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let nextPageLink = false;\n    if (pageCurr + 1 <= pageTot){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageCurr + 1;\n        nextPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let firstPageLink = false;\n    if (pageCurr - 1 > 1){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = 1;\n        firstPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let lastPageLink = false;\n    if (pageCurr + 2 <= pageTot){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageTot;\n        lastPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n\n    \n\n\n    return (\n        <Box p={1} my={2} style={{background: '#fff'}}>\n            <Grid\n                justify=\"space-between\"\n                container \n                alignItems=\"center\"\n                >\n                <Grid item>\n                    <Box component=\"div\">\n                        <FormattedHTMLMessage id=\"app.pagination.recap\" values={{start: recShownStart, end: recShownEnd, tot: recTotal}}/>\n                    </Box>\n                </Grid>\n\n                <Grid item>\n                    <ButtonGroup \n                        size=\"small\" \n                        aria-label=\"small outlined button group\"\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        style={{ background: '#fff'}}\n                        >\n                        { firstPageLink && <Button onClick={()=>go2page(firstPageLink)}><FirstPageIcon /></Button> }\n                        { prevPageLink  && <Button onClick={()=>go2page(prevPageLink)}><KeyboardArrowLeft /></Button> }\n                        { (firstPageLink || prevPageLink || nextPageLink || lastPageLink) && <Button disabled><FormattedHTMLMessage id=\"app.pagination.page\" values={{pageNo: pageCurr}}/> </Button>}\n                        { nextPageLink  && <Button onClick={()=>go2page(nextPageLink)}><KeyboardArrowRight /></Button>}\n                        { lastPageLink && <Button onClick={()=>go2page(lastPageLink)}><LastPageIcon /></Button>}\n                    </ButtonGroup>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport Pagination from './Pagination';\nimport Database from '../../services/Database';\n\nconst useStyles = makeStyles({\n  GridListTileBar: {\n    background: 'rgba(123,30,207, .5)',\n  },\n  GridListTileBarTitle: {\n    textTransform: 'uppercase',\n    fontWeight: '900',\n  },\n  IconButton: {\n    color: 'rgba(255, 255, 255, 0.8)',\n  },\n});\n\nexport default function Results(props) {\n  const [result, setResult] = useState();\n\n  const classes = useStyles();\n  const history = useHistory();\n\n  const qs = props.qs;\n  const suppressEmpty = props.suppressEmpty;\n  const title = props.title;\n\n  const cols = useMediaQuery('(min-width:960px)') ? 3 : 1;\n\n  useEffect(() => {\n    // Ricerca per decade\n    if (qs.decade) {\n      Database.getDecade(parseInt(qs.decade), qs.page, result => {\n        setResult(result);\n      });\n    // Ricerca year_start || year__end || luogo || temi\n    } else if (qs.year_start || qs.year_end || qs.places || qs.themes) {\n      let p = {};\n\n      if (qs.year_start){\n        p.ys = {\n          'f': 'hm__ms:anno',\n          'v': qs.year_start,\n          'o': '>=',\n          'c': 'AND'\n        };\n      }\n      if (qs.year_end){\n        p.ye = {\n          'f': 'hm__ms:anno',\n          'v': qs.year_end,\n          'o': '<=',\n          'c': 'AND'\n        };\n      }\n      if (qs.places){\n        qs.places.split(\",\").map( (e, i) => {\n          p[`p${i}`] = {\n            'f': 'hm__ms:luogo',\n            'v': e,\n            'o': 'LIKE',\n            'c': 'AND'\n          }\n          return false;\n        })\n      }\n      if (qs.themes){\n        qs.themes.split(\",\").map( (e, i) => {\n          p[`p${i}`] = {\n            'f': 'hm__ms:temi',\n            'v': e,\n            'o': 'LIKE',\n            'c': 'AND'\n          }\n          return false;\n        })\n      }\n      Database.getAdv(p, 1, result => {\n        setResult(result);\n      });\n    \n    // Ricerca per autore\n    } else if (qs.author) {\n      Database.getSimple('hm__ms:aut', qs.author, true, 1, result => {\n        setResult(result);\n      });\n    // Ricerca tutto!\n    } else {\n      Database.getAll(qs.page, result => {\n        setResult(result);\n      });\n    }\n\n  }, [qs]);\n\n  if (!result) {\n    return <CircularProgress />;\n  }\n  \n  if (result.head.total_rows === 0) {\n    // TODO: grafica messaggio d'errore!!!\n    \n    if (suppressEmpty){\n      return null;\n    }\n    return (\n      <Container>\n        <p style={{ color: '#fff', fontSize: '2rem' }}>\n          Nessun risultato trovato!\n        </p>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      { title && <h2>{title}</h2>}\n      {!suppressEmpty && <Pagination head={result.head} qs={qs} /> }\n      <GridList cellHeight={280} cols={cols} spacing={40}>\n        {result.records.map((row, k) => (\n          <GridListTile key={k}>\n            <img\n              src={`https://img.youtube.com/vi/${row.videoid}/0.jpg`}\n              alt={row.tit}\n            />\n            <GridListTileBar\n              classes={{\n                root: classes.GridListTileBar,\n                title: classes.GridListTileBarTitle,\n              }}\n              title={(\n                <span>\n                  {row.tit}{\" \"}\n                  <Box component=\"span\" mx={2}>\n                    |\n                  </Box>{\" \"}\n                  <strong>{row.anno}</strong>\n                </span>\n              )}\n              subtitle={<span>di: {row.aut}</span>}\n              actionIcon={(\n                <IconButton\n                  onClick={ ()=> history.push(`../clip/${row.id}`)}\n                  aria-label={`info about ${row.tit}`}\n                  classes={{ root: classes.IconButton }}\n                >\n                  <KeyboardArrowRightIcon />\n                </IconButton>\n              )}\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n    </Container>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Fab } from '@material-ui/core';\n\nimport { FormattedHTMLMessage } from 'react-intl';\n\nimport Database from '../../services/Database';\n\nconst useStyles = makeStyles((theme) => ({\n  fabTheme: {\n    borderRadius: '0 !important',\n    padding: '0.5em',\n    margin: '0.2em',\n    textTransform: 'capitalize',\n    '&:hover': {\n      backgroundColor: '#7a1dcf',\n      color: '#fff',\n    },\n  }\n}));\n\nexport default function ThemesList(props) {\n\n  const onThemeSelect = props.onThemeSelect;\n\n  const classes = useStyles();\n\n  const [themes, setThemes] = useState(null);\n\n  useEffect(() => {\n    Database.getVocabulary('temi-ms', (result) => {\n      setThemes(result);\n    });\n  }, []);\n\n  return (\n    <React.Fragment>\n      <h2>\n        <FormattedHTMLMessage id=\"app.filterModal.themes\" />\n      </h2>\n      {themes && themes.map((e, i) => {\n        return (\n          <Fab className={classes.fabTheme} key={i} variant=\"extended\" size=\"small\" onClick={onThemeSelect}>\n            {e.trim()}\n          </Fab>\n        );\n      })}\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Fab } from '@material-ui/core';\n\nimport { FormattedHTMLMessage } from 'react-intl';\n\nimport Database from '../../services/Database';\n\nconst useStyles = makeStyles((theme) => ({\n  fabTheme: {\n    borderRadius: '0 !important',\n    padding: '0.5em',\n    margin: '0.2em',\n    textTransform: 'capitalize',\n    '&:hover': {\n      backgroundColor: '#7a1dcf',\n      color: '#fff',\n    },\n  }\n}));\n\nexport default function PlacesList(props) {\n\n  const onPlaceSelect = props.onPlaceSelect;\n\n  const classes = useStyles();\n\n  const [places, setPlaces] = useState(null);\n\n  useEffect(() => {\n    Database.getUniqueVal('luogo', (result) => {\n      setPlaces(result);\n    });\n  }, []);\n\n  return (\n    <React.Fragment>\n      <h2>\n        <FormattedHTMLMessage id=\"app.filterModal.places\" />\n      </h2>\n      {places && places.map((e, i) => {\n        return (\n          <Fab className={classes.fabTheme} key={i} variant=\"extended\" size=\"small\" onClick={onPlaceSelect}>\n            {e.trim()}\n          </Fab>\n        );\n      })}\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\n\nimport { FormattedHTMLMessage } from 'react-intl';\n\n\nexport default function YearsList(props) {\n\n  const onYearSelect = props.onYearSelect;\n\n  return (\n    <React.Fragment>\n      <h2>\n        <FormattedHTMLMessage id=\"app.filterModal.year\" />\n      </h2>\n      \n    </React.Fragment>\n  );\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Button, Dialog, AppBar, Toolbar, IconButton, Slide, DialogActions, DialogContent, Grid, Paper } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FormattedHTMLMessage } from 'react-intl';\nimport ThemesList from './ThemesList';\nimport PlacesList from './PlacesList';\nimport YearsList from './YearsList';\n\nconst useStyles = makeStyles((theme) => ({\n  dialogContainer: {\n    '& .MuiDialog-paperFullScreen': {\n      backgroundColor: '#000000bf',\n    },\n  },\n  filterBtn: {\n    backgroundColor: '#fff',\n    padding: '.4em 2.3em',\n    fontSize: '1.1em',\n    borderRadius: '2px',\n    color: '#000',\n    fontWeight: '600',\n    '&:hover': {\n      backgroundColor: '#e0e0e0',\n    },\n  },\n  appBar: {\n    position: 'relative',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n  },\n  iconMenu: {\n    fontSize: '2.5rem',\n  },\n  dialogContent: {\n    marginLeft: '24em',\n    [theme.breakpoints.down(960)]: {\n      marginLeft: '9em',\n    },\n    marginRight: '9em',\n    '& h2': {\n      fontSize: '3.2em',\n    },\n  },\n  paper: {\n    backgroundColor: 'transparent',\n    color: '#fff',\n    textAlign: 'left',\n    [theme.breakpoints.down(960)]: {\n      textAlign: 'center',\n    },\n  },\n  footerContainer: {\n    padding: '0',\n  },\n  clearIcon: {\n    fontSize: '2.3rem',\n    marginRight: '0.2em',\n  },\n  clearBtn: {\n    color: '#989898',\n    fontWeight: 'bold',\n    fontSize: '1.2em',\n  },\n  applyBtn: {\n    backgroundColor: '#7a1dcf',\n    color: '#fff',\n    padding: '0.4em 3em',\n    fontSize: '1.6em',\n    borderRadius: '0',\n    '&:hover': {\n      backgroundColor: '#530e92',\n    }\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => <Slide direction=\"up\" ref={ref} {...props} />);\n\nexport default function FilterModal() {\n  const classes = useStyles();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  \n  const onThemeSelect = (event) => {\n    console.log(event);\n  };\n  const onPlaceSelect = (event) => {\n    console.log(event);\n  };\n  const onYearSelect = (event) => {\n    console.log(event);\n  };\n\n  return (\n    <div>\n      <Button\n        color='primary'\n        className={classes.filterBtn}\n        onClick={handleClickOpen}\n      >\n        <FormattedHTMLMessage id=\"app.search.filters\" />\n      </Button>\n      <Dialog\n        className={classes.dialogContainer}\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge='start'\n              color='inherit'\n              onClick={handleClose}\n              aria-label='close'\n            >\n              <CloseIcon className={classes.iconMenu} />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Grid container spacing={3}>\n            <Grid item sm={12} md={4}>\n              <Paper className={classes.paper}>\n                <YearsList onYearSelect={onYearSelect} />\n              </Paper>\n            </Grid>\n            <Grid item sm={12} md={8}>\n              <Paper className={classes.paper}>\n                <PlacesList onPlaceSelect={onPlaceSelect} />\n              </Paper>\n            </Grid>\n            <Grid item xs={12}>\n              <Paper className={classes.paper}>\n                <ThemesList onThemeSelect={onThemeSelect} />\n              </Paper>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions className={classes.footerContainer}>\n          <Button onClick={handleClose} className={classes.clearBtn}>\n            <CloseIcon className={classes.clearIcon} />\n            <FormattedHTMLMessage id=\"app.filterModal.clear\" />\n          </Button>\n          <Button className={classes.applyBtn} onClick={handleClose} autoFocus>\n            <FormattedHTMLMessage id=\"app.filterModal.apply\" />\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FormattedHTMLMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\n\nimport InternalTmpl from '../Templates/InternalTmpl';\n\nimport qs from 'qs';\n\nimport Results from './Results';\nimport FilterModal from './FilterModal';\n\nconst useStyles = makeStyles((theme) => ({\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    height: 200,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    marginBottom: '3rem',\n\n  },\n  textBox: {\n    color: '#fff',\n    marginTop: '1em',\n    paddingTop: '1em',\n  },\n  mainTitle: {\n    fontSize: '3.2em',\n    letterSpacing: '0.1em',\n    marginBlockStart: '0',\n  },\n  yearButton: {\n    color: '#fff',\n    fontWeight: '900',\n  },\n  filterContainer: {\n    marginRight: '1%',\n  },\n}));\n\nexport default function Search(props) {\n\n  const classes = useStyles();\n  const history = useHistory();\n  const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n  const lang = props.lang || props.match.params.lang;\n\n  const go2page = (page)=>{ history.push(page)};\n\n  // TODO: i bottoni .active devono avere il color viola!\n  return (\n    <InternalTmpl lang={lang}>\n      <Typography className={classes.boxContainer} component=\"div\">\n        <Box className={classes.textBox}>\n          <h5>HOME MOVIES DIGITAL ARCHIVE</h5>\n          <h1 className={classes.mainTitle}>Viaggio in Italia</h1>\n        </Box>\n        <Box>\n          <Grid\n            justify=\"space-between\"\n            container \n            alignItems=\"center\"\n            >\n            <Grid item>\n              <Box component=\"div\">\n                <Button classes={{root: classes.yearButton}} \n                        className={ !qstring.decade ? 'active' : ''} \n                        onClick={() => go2page('./')}\n                        >\n                  <FormattedHTMLMessage id=\"app.search.all\" />\n                </Button>\n                {\n                  [20, 30, 40, 50, 60, 70, 80].map((e, i) => {\n                    return (\n                      <Button\n                        classes={{root: classes.yearButton}}\n                        className={ Number(qstring.decade) === e ? 'active' : ''}\n                        key={i}\n                        onClick={() => go2page(`./?decade=${e}`)}>'{e}</Button>\n                        )})\n                  }\n                </Box>\n            </Grid>\n\n            <Grid item className={classes.filterContainer}>\n              <FilterModal />\n            </Grid>\n          </Grid>\n          \n        </Box>\n      </Typography>\n\n      <Results qs={qstring} />\n    </InternalTmpl>\n  );\n}\n","import React, { useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport LabelIcon from '@material-ui/icons/Label';\n\nimport YouTube from 'react-youtube';\n\nimport Database from '../../services/Database';\nimport Results from '../Search/Results';\n\n\n\n\nexport default function Record(props) {\n\n  const [result, setResult] = useState();\n  const [viewVideo, setViewVideo] = useState();\n  const history = useHistory();\n\n  const clipId = props.id;\n\n  useEffect( () => {\n    Database.getOne(parseInt(clipId), result => {\n      setResult(result);\n    });\n  }, [clipId]);\n  \n  if (!result){\n    return <CircularProgress />\n  }\n\n  const item = result.core;\n  // const geoD = result.geodata;\n\n  return (\n    <Box style={{ color: '#fff' }}>\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={6} style={{ textAlign: 'center'}}>\n          <h2>{item.tit.val}</h2>\n          { !viewVideo && <img src={`https://img.youtube.com/vi/${item.videoid.val}/0.jpg`} alt={item.tit.val} onClick={ ()=> setViewVideo(true) }/> }\n          { viewVideo && <YouTube videoId={item.videoid.val} onEnd={() => setViewVideo(false)} /> }\n        </Grid>\n      </Grid>\n\n\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={2}>\n          <Box my={5}>\n            <h3>Autore</h3>\n            { item.aut.val }\n            <h3>Luogo</h3>\n            { item.luogo.val }\n            <h3>Anno</h3>\n            { item.anno.val }\n          </Box>\n        </Grid>\n        <Grid item xs={2}>\n          <Box my={5}>\n            <h3>Formato</h3>\n            { item.formato.val }\n            <h3>Inventario</h3>\n            { item.inv.val }\n            <h3>Durata</h3>\n            { item.durata.val }\n          </Box>\n        </Grid>\n        <Grid item xs={2}>\n          <Box my={5}>\n            { item.descr.val }\n          </Box>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={8} style={{ textAlign: 'center'}}>\n          {\n            item.temi.val.split(';').map( (e, i) =>  {\n              return <Fab key={i} variant=\"extended\" size='small' onClick={()=>history.push(`../search/?theme=${e.trim()}`)}><LabelIcon />{e.trim()}</Fab>\n            })\n          }\n        </Grid>\n      </Grid>\n      \n      <Results qs={{ author: item.aut.val }} suppressEmpty={true} title=\"Clip dello stesso autore\" />\n    </Box>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport InternalTmpl from '../Templates/InternalTmpl';\n\nimport Record from './Record';\n\nconst useStyles = makeStyles((theme) => ({\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  textBox: {\n    textAlign: 'center',\n    color: '#fff',\n    paddingTop: '1em',\n  }\n}));\n\nexport default function Clip(props) {\n  const classes = useStyles();\n\n  const clipId = props.match.params.id;\n  const lang = props.match.params.lang;\n\n  return (\n    <InternalTmpl lang={lang}>\n      <Typography className={classes.boxContainer} component=\"div\">\n        <Box className={classes.textBox}>\n          <h5>HOME MOVIES DIGITAL ARCHIVE | Viaggio in Italia</h5>\n        </Box>\n      </Typography>\n\n      <Record id={clipId} />\n    </InternalTmpl>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Typography, Box } from '@material-ui/core';\nimport InternalTmpl from '../Templates/InternalTmpl';\n\nconst useStyles = makeStyles((theme) => ({\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    height: '100vh',\n    zIndex: 100,\n\n  },\n  textBox: {\n    textAlign: 'center',\n    color: '#fff',\n  },\n  mainTitle: {\n    fontSize: '3.2em',\n    letterSpacing: '0.1em',\n    marginBlockStart: '0',\n  },\n  \n}));\n\nexport default function About(props) {\n  const classes = useStyles();\n  const lang = props.lang || props.match.params.lang;\n\n  return (\n    <InternalTmpl lang={lang}>\n      <Typography className={classes.boxContainer} component=\"div\">\n        <Box className={classes.textBox}>\n          <h5>HOME MOVIES DIGITAL ARCHIVE</h5>\n          <h2 className={classes.mainTitle}>About: TODO</h2>\n        </Box>\n      </Typography>\n    </InternalTmpl>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\nimport { IntlProvider } from 'react-intl';\nimport theming from './services/theming';\n\nimport Intro from './components/Intro/Intro';\nimport Map from './components/Map/Map';\nimport Search from './components/Search/Search';\nimport Clip from './components/Clip/Clip';\nimport About from './components/About/About';\nimport itMessages from './translations/it.json';\nimport enMessages from './translations/en.json';\n\nconst messages = {\n  it: itMessages,\n  en: enMessages,\n};\n\nexport default function App() {\n  const [theme] = useState(theming.defaultTheme);\n  const [lang, setLang] = useState('it');\n  return (\n    <IntlProvider locale={lang} messages={messages[lang]}>\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/\" component={() => <Intro changeLang={setLang} />} />\n            <Route exact path=\"/:lang(en|it)/map/\" component={Map} />\n            <Route exact path=\"/:lang(en|it)/search/\" component={Search} />\n            <Route exact path=\"/:lang(en|it)/clip/:id\" component={Clip} />\n            <Route exact path=\"/:lang(en|it)/about\" component={About} />\n          </Switch>\n        </BrowserRouter>\n      </MuiThemeProvider>\n    </IntlProvider>\n  );\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n"],"sourceRoot":""}