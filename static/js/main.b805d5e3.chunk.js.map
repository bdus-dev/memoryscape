{"version":3,"sources":["img/home-background-er.jpg","img/home-background-italia.jpg","services/theming.js","cfg.js","components/Intro/Intro.jsx","components/Bar/Bar.jsx","services/Database.jsx","components/Map/Map.jsx","components/Map/PointToLayer.jsx","components/Map/OnEachFeature.jsx","components/Templates/InternalTmpl.jsx","components/Search/FilterApplied.jsx","components/Search/Pagination.jsx","components/Search/Results.jsx","components/Search/FilterContext.jsx","components/Search/Filters/ThemeElement.jsx","components/Search/Filters/ThemesList.jsx","components/Search/FilterModal.jsx","components/Search/PlacesAutocomplete.jsx","components/Search/ResetButton.jsx","components/Search/Decades.jsx","components/Search/Search.jsx","components/Clip/Record.jsx","components/Clip/Clip.jsx","components/Templates/BlackTmpl.jsx","components/About/ER.jsx","components/About/Italia.jsx","components/About/About.jsx","App.jsx","registerServiceWorker.js","index.js","img/internal-background-er.jpg"],"names":["module","exports","colors","red","id","name","import","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","gray","blueGray","types","light","dark","getColor","colorId","_","camelCase","getType","typeId","defaultPrimaryColor","process","defaultSecondaryColor","defaultType","defaultTheme","createMuiTheme","palette","primary","secondary","type","primaryColor","secondaryColor","typography","fontFamily","overrides","MuiCssBaseline","theming","isDefaultTheme","theme","createTheme","er","app","col","title","main","italia","window","location","href","includes","useStyles","makeStyles","homeContainer","backgroundImage","backGroundImageEr","backGroundImageItalia","backgroundPosition","backgroundRepeat","backgroundSize","maxWidth","boxContainer","padding","spacing","height","display","flexDirection","justifyContent","textBox","textAlign","color","marginTop","paddingTop","mainTitle","fontSize","marginBlockStart","breakpoints","down","languageContainer","marginBottom","buttomLang","fontWeight","Intro","changeLang","classes","history","useHistory","className","Container","fixed","Typography","component","style","Box","Button","onClick","lang","push","appBar","backgroundColor","boxShadow","fabButton","position","right","top","background","iconMenu","popoverPaper","width","maxHeight","left","menuContent","marginRight","margin","menuItem","colorWhite","contactParagraph","lineHeight","titleMenu","letterSpacing","menuLink","textDecoration","closeMenuContainer","Bar","props","useState","anchorEl","setAnchorEl","handleClose","gotoPage","page","AppBar","Fab","event","currentTarget","Menu","PopoverClasses","paper","list","open","Boolean","onClose","keepMounted","IconButton","MenuItem","b64EncodeUnicode","str","btoa","encodeURIComponent","replace","match","p1","String","fromCharCode","Database","url","params","callback","apiVersion","baseUrl","hostname","axios","method","headers","then","res","data","console","log","text","catch","Error","message","cb","this","_getData","tb","verb","d","random","q_encoded","fld","where","s","w","voc","decade","validDecades","join","min_limit","parseInt","max_limit","places","themes","split","forEach","e","i","author","Mappa","qstring","qs","parse","search","ignoreQueryPrefix","center","zoom","reverse","defCenter","geoJson","setGeoJson","React","createRef","mapRef","useEffect","getMsGeoJson","result","Map","ref","TileLayer","opacity","attribution","GeoJSON","pointToLayer","t","L","CircleMarker","radius","weight","fillOpacity","onEachFeature","feature","layer","properties","html","tit","vimeoimg","aut","annoda","bindPopup","onAdd","a","bounds","target","getBounds","current","leafletElement","fitBounds","overflow","InternalTmpl","children","FilterApplied","filters","concat","length","ml","button","borderRight","Pagination","go2page","head","recTotal","total_rows","recShownStart","recShownEnd","no_records_shown","pageCurr","pageTot","total_pages","prevPageLink","qsCopy","Object","assign","qString","stringify","nextPageLink","firstPageLink","lastPageLink","p","my","Grid","justify","container","alignItems","item","values","start","end","tot","ButtonGroup","size","aria-label","variant","disabled","pageNo","GridListTitle","cursor","GridListTileBar","GridListTileBarTitle","textTransform","GridListTileBarSubtitle","Results","setResult","makeOpaque","suppressEmpty","exclude","cols","useMediaQuery","getDecade","getByPlacesAndThemse","getByAuthor","getAll","GridList","cellHeight","records","map","row","k","GridListTile","key","scrollTo","document","getElementsByClassName","scrollIntoView","behavior","block","inline","src","alt","root","subtitle","mx","annoa","luogo","temi","actionIcon","CircularProgress","FilterContext","createContext","toggleList","arrayList","value","pop","isValidDate","date","test","FilterContextComponent","themeList","setThemeList","placesList","setPlacesList","undefined","yearFrom","setYearFrom","yearTo","setYearTo","Provider","toggleThemes","isThemeSelected","getQueryFilters","query","filter","trim","togglePlaces","place","isPlaceSelected","initFilters","filterToInit","addYearFromToQuery","addYearToToQuery","defaultProps","fabTheme","borderRadius","selected","ThemeElement","useContext","themeValue","applyFilter","fabSelected","setFabSelected","classNames","ThemesList","setThemes","getUniqueVal","sort","Fragment","dialogContainer","filterBtn","dialogContent","footerContainer","clearIcon","clearBtn","applyBtn","Transition","forwardRef","Slide","direction","FilterModal","setOpen","Dialog","fullScreen","TransitionComponent","Toolbar","edge","DialogContent","xs","Paper","autoComplete","border","borderBottom","PlacesAutocomplete","loading","setLoading","setPlaces","doSearch","el","Autocomplete","noOptionsText","onOpen","onChange","options","renderInput","placeholder","TextField","label","fullWidth","InputProps","endAdornment","Search","Number","currDecade","dec","yearButton","filterContainer","paddingLeft","md","videoWrapper","paddingBottom","iframe","Record","clipId","getOne","core","geoD","geodata","property","content","val","video","vimeo","responsive","inv","formato","wkt","geometry","Math","round","parseFloat","descr","py","borderTop","borderColor","Clip","pt","BlackTmpl","ER","listStyle","About","ReactGA","initialize","pageview","pathname","messages","it","itMessages","en","enMessages","ReactDOM","render","setLang","locale","CssBaseline","exact","path","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b805d5e3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/home-background-er.69f0cdef.jpg\";","module.exports = __webpack_public_path__ + \"static/media/home-background-italia.df376d2d.jpg\";","import { createMuiTheme } from '@material-ui/core/styles';\nimport _ from 'lodash';\n\nimport red from '@material-ui/core/colors/red';\nimport pink from '@material-ui/core/colors/pink';\nimport purple from '@material-ui/core/colors/purple';\nimport deepPurple from '@material-ui/core/colors/deepPurple';\nimport indigo from '@material-ui/core/colors/indigo';\nimport blue from '@material-ui/core/colors/blue';\nimport lightBlue from '@material-ui/core/colors/lightBlue';\nimport cyan from '@material-ui/core/colors/cyan';\nimport teal from '@material-ui/core/colors/teal';\nimport green from '@material-ui/core/colors/green';\nimport lightGreen from '@material-ui/core/colors/lightGreen';\nimport lime from '@material-ui/core/colors/lime';\nimport yellow from '@material-ui/core/colors/yellow';\nimport amber from '@material-ui/core/colors/amber';\nimport orange from '@material-ui/core/colors/orange';\nimport deepOrange from '@material-ui/core/colors/deepOrange';\nimport brown from '@material-ui/core/colors/brown';\nimport gray from '@material-ui/core/colors/grey';\nimport blueGray from '@material-ui/core/colors/blueGrey';\n\nconst colors = {\n  red: {\n    id: 'red',\n    name: 'Red',\n    import: red,\n  },\n\n  pink: {\n    id: 'pink',\n    name: 'Pink',\n    import: pink,\n  },\n\n  purple: {\n    id: 'purple',\n    name: 'Purple',\n    import: purple,\n  },\n\n  deepPurple: {\n    id: 'deep-purple',\n    name: 'Deep Purple',\n    import: deepPurple,\n  },\n\n  indigo: {\n    id: 'indigo',\n    name: 'Indigo',\n    import: indigo,\n  },\n\n  blue: {\n    id: 'blue',\n    name: 'Blue',\n    import: blue,\n  },\n\n  lightBlue: {\n    id: 'light-blue',\n    name: 'Light Blue',\n    import: lightBlue,\n  },\n\n  cyan: {\n    id: 'cyan',\n    name: 'Cyan',\n    import: cyan,\n  },\n\n  teal: {\n    id: 'teal',\n    name: 'Teal',\n    import: teal,\n  },\n\n  green: {\n    id: 'green',\n    name: 'Green',\n    import: green,\n  },\n\n  lightGreen: {\n    id: 'light-green',\n    name: 'Light Green',\n    import: lightGreen,\n  },\n\n  lime: {\n    id: 'lime',\n    name: 'Lime',\n    import: lime,\n  },\n\n  yellow: {\n    id: 'yellow',\n    name: 'Yellow',\n    import: yellow,\n  },\n\n  amber: {\n    id: 'amber',\n    name: 'Amber',\n    import: amber,\n  },\n\n  orange: {\n    id: 'orange',\n    name: 'Orange',\n    import: orange,\n  },\n\n  deepOrange: {\n    id: 'deep-orange',\n    name: 'Deep Orange',\n    import: deepOrange,\n  },\n\n  brown: {\n    id: 'brown',\n    name: 'Brown',\n    import: brown,\n  },\n\n  gray: {\n    id: 'gray',\n    name: 'Gray',\n    import: gray,\n  },\n\n  blueGray: {\n    id: 'blue-gray',\n    name: 'Blue Gray',\n    import: blueGray,\n  }\n};\n\nconst types = {\n  light: {\n    id: 'light',\n    name: 'Light',\n  },\n\n  dark: {\n    id: 'dark',\n    name: 'Dark',\n  }\n};\n\nconst getColor = (colorId) => {\n  if (!colorId) {\n    return null;\n  }\n  \n  colorId = _.camelCase(colorId);\n\n  return colors[colorId];\n};\n\nconst getType = (typeId) => {\n  if (!typeId) {\n    return null;\n  }\n\n  return types[typeId];\n};\n\nconst defaultPrimaryColor = getColor(process.env.REACT_APP_THEME_PRIMARY_COLOR);\nconst defaultSecondaryColor = getColor(process.env.REACT_APP_THEME_SECONDARY_COLOR);\nconst defaultType = getType(process.env.REACT_APP_THEME_TYPE);\n\n// Dichiaro il font base per il sito\n\nconst defaultTheme = createMuiTheme({\n  palette: {\n    primary: defaultPrimaryColor.import,\n    secondary: defaultSecondaryColor.import,\n    type: defaultType.id,\n  },\n\n  primaryColor: defaultPrimaryColor,\n  secondaryColor: defaultSecondaryColor,\n  type: defaultType,\n\n  typography: {\n    fontFamily: 'Poppins',\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        '@font-face': 'Poppins',\n      },\n    },\n  },\n});\n\nconst theming = {};\n\ntheming.colors = colors;\ntheming.types = types;\n\ntheming.defaultPrimaryColor = defaultPrimaryColor;\ntheming.defaultSecondaryColor = defaultSecondaryColor;\ntheming.defaultType = defaultType;\n\ntheming.defaultTheme = defaultTheme;\n\n/**\n * Returns whether a theme is the default theme.\n * @param theme\n * @returns {boolean}\n */\ntheming.isDefaultTheme = (theme) => {\n  if (!theme) {\n    return false;\n  }\n\n  if (theme.primaryColor.id === defaultPrimaryColor.id &&\n      theme.secondaryColor.id === defaultSecondaryColor.id &&\n      theme.type.id === defaultType.id) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Creates a Material-UI theme from a JSON theme object.\n * @param theme\n * @returns {null|Theme}\n */\ntheming.createTheme = (theme) => {\n  if (!theme) {\n    return null;\n  }\n  let { primaryColor, secondaryColor, type } = theme;\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  primaryColor = getColor(primaryColor);\n  secondaryColor = getColor(secondaryColor);\n  type = getType(type);\n\n  if (!primaryColor || !secondaryColor || !type) {\n    return null;\n  }\n\n  theme = createMuiTheme({\n    palette: {\n      primary: primaryColor.import,\n      secondary: secondaryColor.import,\n      type: type.id\n    },\n\n    primaryColor: primaryColor,\n    secondaryColor: secondaryColor,\n    type: type\n  });\n\n  return theme;\n};\n\nexport default theming;\n","const variables = {\n    er: {\n        app: 'er',\n        col: '#7a1dcf',\n        title: {\n            main: '01. lungo la via emilia'\n        }\n    },\n\n    italia: {\n        app : 'italia',\n        col : '#245344',\n        title : {\n            main: '02. cartoline italiane'\n        }\n    }\n};\n\nconst index = window.location.href.includes('ms-emilia-romagna.homemovies.it') ? 'er' : 'italia';\n// export const {app, col, title} = variables['er'];\nexport const {app, col, title} = variables[index];","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Container, Typography, Box, Button } from '@material-ui/core';\n// TODO: differenziare ER e ITALIA?\nimport backGroundImageEr from '../../img/home-background-er.jpg';\nimport backGroundImageItalia from '../../img/home-background-italia.jpg';\nimport {app, title} from '../../cfg';\n\nconst useStyles = makeStyles((theme) => ({\n  homeContainer: {\n    backgroundImage: `url(${app === 'er' ? backGroundImageEr : backGroundImageItalia})`,\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    maxWidth: '100%',\n  },\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    height: 200,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  textBox: {\n    textAlign: 'center',\n    color: '#fff',\n    marginTop: 'auto',\n    paddingTop: '9em',\n  },\n  mainTitle: {\n    fontSize: '3.2em',\n    marginBlockStart: '0',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '2.2em',\n    },\n  },\n  languageContainer: {\n    marginTop: 'auto',\n    marginBottom: '6em',\n    textAlign: 'center',\n  },\n  buttomLang: {\n    color: '#fff',\n    fontWeight: '900',\n  },\n}));\n\nexport default function Intro({ changeLang }) {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const selectLang = (lang) => {\n    changeLang(lang);\n    history.push(`/${lang}/search/`);\n  };\n\n  /**\n   * <Box className={classes.languageContainer}>\n            <Button className={classes.buttomLang} onClick={() => selectLang('it')}>ITA</Button>\n            <Button className={classes.buttomLang} onClick={() => selectLang('en')}>ENG</Button>\n          </Box>\n   */\n\n  return (\n    <div className={classes.homeContainer}>\n      <Container fixed>\n        <Typography className={classes.boxContainer} component=\"div\" style={{ height: '100vh' }}>\n          <Box className={classes.textBox}>\n            <h5>MEMORYSCAPES</h5>\n            <h2 className={classes.mainTitle}>{title.main}</h2>\n          </Box>\n          <Box className={classes.languageContainer}>\n            <Button className={classes.buttomLang} onClick={() => selectLang('it')}>Vai all'archivio</Button>\n          </Box>\n        </Typography>\n      </Container>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { useHistory } from 'react-router-dom';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Fab from '@material-ui/core/Fab';\n\n\nimport MenuSharp from '@material-ui/icons/MenuSharp';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { makeStyles } from '@material-ui/styles';\nimport { Menu, MenuItem } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport {col} from '../../cfg';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n  },\n  fabButton: {\n    position: 'absolute',\n    right:'1rem',\n    top:'1rem',\n    background: 'transparent',\n    color: '#fff',\n    '&:hover': {\n      background: `${col} !important`,\n      color: '#fff',\n    }\n  },\n  iconMenu: {\n    fontSize: '2.5rem',\n  },\n  popoverPaper: {\n    width: '100%',\n    height: '100vh',\n    maxHeight: '100vh',\n    maxWidth: 'unset',\n    top: '0 !important',\n    backgroundColor: '#000000f2',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    left: '0 !important',\n    [theme.breakpoints.down(800)]: {\n      textAlign: 'center',\n    },\n  },\n  menuContent: {\n    maxHeight: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    [theme.breakpoints.down(800)]: {\n      flexDirection: 'column',\n    },\n    justifyContent: 'center',\n    position: 'initial',\n    '& div': {\n      marginRight: '3em',\n      [theme.breakpoints.down(800)]: {\n        margin: 'auto',\n      },\n    },\n  },\n  menuItem: {\n    color: '#fff',\n    fontSize: '3.4em',\n    fontWeight: '700',\n    '&:hover': {\n      color: col,\n    },\n  },\n  colorWhite: {\n    color: '#fff',\n  },\n  contactParagraph: {\n    color: '#7b7878',\n    fontSize: '1em',\n    lineHeight: '1.8em',\n  },\n  titleMenu: {\n    letterSpacing: '0.1em',\n  },\n  menuLink: {\n    textDecoration: 'none',\n    display: 'block',\n    '&:hover': {\n      textDecoration: 'none',\n    },\n  },\n  closeMenuContainer: {\n    position: 'absolute',\n    marginRight: '0.8em !important',\n    top: '0',\n    right: '0',\n    '& button': {\n      color: '#fff',\n      fontSize: '2.5rem',\n    },\n  },\n}));\n\nexport default function Bar(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const history = useHistory();\n\n  const lang = props.lang;\n\n  const handleMenuIconClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const gotoPage = (page) => {\n    history.push(page);\n  };\n\n  return (\n    <AppBar color=\"primary\" position=\"fixed\" className={classes.appBar}>\n      <Fab onClick={handleMenuIconClick} className={classes.fabButton}>\n        <MenuSharp className={classes.iconMenu} />\n      </Fab>\n\n      <Menu\n        PopoverClasses={{ paper: classes.popoverPaper }}\n        classes={{ list: classes.menuContent }}\n        id=\"main-menu\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n        keepMounted\n      >\n        <div className={classes.closeMenuContainer}>\n          <IconButton onClick={handleClose}>\n            <CloseIcon className={classes.iconMenu} />\n          </IconButton>\n        </div>\n        <div>\n          <MenuItem onClick={() => gotoPage('/')} className={classes.menuItem}>Home</MenuItem>\n          <MenuItem onClick={() => gotoPage(`/${lang}/map`)} className={classes.menuItem}>\n            <FormattedMessage id=\"app.menu.map\" />\n          </MenuItem>\n        </div>\n        <div>\n          <MenuItem onClick={() => gotoPage(`/${lang}/search/`)} className={classes.menuItem}>\n            <FormattedMessage id=\"app.menu.collection\" />\n          </MenuItem>\n          <MenuItem onClick={() => gotoPage(`/${lang}/about`)} className={classes.menuItem}>\n            <FormattedMessage id=\"app.menu.about\" />\n          </MenuItem>\n        </div>\n        <div className={classes.colorWhite}>\n          <h5 className={classes.titleMenu}>HOME MOVIES DIGITAL ARCHIVES</h5>\n          <p className={classes.contactParagraph}>\n            Home Movies\n            <br />\n            Via Sant’Isaia, 18 - 40123 Bologna, IT\n            <br />\n            Call - (+39) 051 3397243\n            <br />\n            Web -\n            <span className={classes.colorWhite}><a href=\"https://homemovies.it\">homemovies.it</a></span>\n          </p>\n        </div>\n      </Menu>\n    </AppBar>\n  );\n}\n","import axios from 'axios';\n\nimport {app} from '../cfg';\n\n// https://stackoverflow.com/a/30106551/586449\nconst b64EncodeUnicode = function(str) {\n  // first we use encodeURIComponent to get percent-encoded UTF-8,\n  // then we convert the percent encodings into raw bytes which\n  // can be fed into btoa.\n  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,\n      function toSolidBytes(match, p1) {\n          return String.fromCharCode('0x' + p1);\n  }));\n}\nexport default class Database {\n\n\n  static _getData(url, params, callback, apiVersion) {\n\n    let baseUrl = 'https://db-dev.bradypus.net';\n\n    if (window.location.hostname === 'localhost'){\n      baseUrl = 'http://db.localhost';\n    }\n\n    baseUrl += `/api/${ apiVersion === 2 ? 'v2/' : '' }hm/`;\n\n    axios({\n      method: 'post',\n      url: baseUrl + url,\n      params: params,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      }\n    })\n    .then(res => {\n      if (res.data.type && res.data.type === 'error'){\n        console.log('API error:');\n        console.log(res.data.text);\n        return false;\n      }\n      callback(res.data);\n    })\n    .catch( res => {\n      if(res instanceof Error) {\n        console.log(res.message);\n      } else {\n        console.log(res.data);\n      }\n    });\n  }\n\n  /**\n   * Get one record from Database\n   * @param {integer} id  Record IS\n   * @param {function} cb Callback function\n   * @memberof Database\n   */\n  static getOne(id, cb) {\n    this._getData('', {\n      tb : 'ms',\n      verb : 'read',\n      id : id\n    }, d => { cb(d); }, 2\n    );\n  }\n\n\n  /**\n   * Gets all records from database\n   * @param {integer} page    Page number to get from DB\n   * @param {function} cb     Callback function\n   * @memberof Database\n   */\n  static getAll(page, cb) {\n    const random = page ? '' : ' ORDER BY random()';\n    this._getData('ms', {\n      verb: 'search',\n      type: 'encoded',\n      q_encoded: b64EncodeUnicode( `app LIKE  '%${app}%'${random}` ),\n      page: page\n    }, d => { cb(d); });\n  }\n\n\n  /**\n   * Gets list of unique values for a field from database\n   *\n   * @param {string} fld    field name\n   * @param {string} str    filtering string\n   * @param {string} where  where statement\n   * @param {function} cb   callback function\n   * @memberof Database\n   */\n  static getUniqueVal(fld, str, where, cb) {\n    this._getData('', {\n      verb: 'getUniqueVal',\n      tb: 'ms',\n      fld: fld,\n      s: str,\n      w: where\n    }, d => { cb(d); }, 2);\n\n  }\n\n  /**\n   * Gets list of unique values for a vocabulary\n   *\n   * @param {string} voc    vocabulary name\n   * @param {function} cb   callback function\n   * @memberof Database\n   */\n  static getVocabulary(voc, cb) {\n    this._getData('', {\n      verb: 'getVocabulary',\n      voc: voc\n    }, d => { cb(d); }, 2);\n\n  }\n\n  /**\n   * \n   * i film della decade 20 hanno:\n   *  annoda < 30 (max_limit)\n   *  annoa >=20 (min_limit)\n   */\n  static getDecade(decade, page, cb) {\n    const validDecades = [20, 30, 40, 50, 60, 70, 80, 90];\n    if (!validDecades.includes(decade)){\n      console.log(`Invalid parameter decade: ${decade}: only one of ${validDecades.join(',')} is allowed`);\n      return false;\n    }\n    const min_limit = parseInt(`19${decade}`);\n    const max_limit = min_limit + 10;\n    let d = {\n      verb: 'search',\n      type: 'encoded',\n      q_encoded: b64EncodeUnicode( `(app LIKE  '%${app}%') AND annoda < ${max_limit} AND annoa >= ${min_limit}` ),\n      page: page\n    };\n\n    this._getData('ms', d, d => { cb(d); });\n  }\n\n  /**\n   * \n   * @param {string} places place or places separated by comma\n   * @param {string} themes theme or themes separated by comma\n   * @param {integer} page page to return \n   * @param {function} cb callback function\n   */\n  static getByPlacesAndThemse(places, themes, page, cb) {\n    if (!places && !themes){\n      cb(false);\n    }\n    let where = [`(app LIKE '%${app}%')`];\n\n    if (places){\n      places.split(\",\").forEach( (e, i) => {\n        where.push(` luogo = \"${e}\" `);\n      });\n    }\n    if (themes){\n      themes.split(\",\").forEach( (e, i) => {\n        where.push(` (temi LIKE '%${e};%' OR temi LIKE '%${e}') `);\n      });\n    }\n    this._getData('ms', {\n      verb: 'search',\n      type: 'encoded',\n      q_encoded: b64EncodeUnicode( where.join(' AND ') ),\n      page: page\n    }, d => { cb(d) });\n  }\n\n  static getByAuthor(author, page, cb) {\n    this._getData('ms', {\n      verb: 'search',\n      type: 'encoded',\n      q_encoded: b64EncodeUnicode( `(app LIKE  '%${app}%') AND aut LIKE '%${author}%'` ),\n      page: page\n    }, d => { cb(d); });\n  }\n\n  static getMsGeoJson(where, cb) {\n    let data = {\n      \"join\": \"JOIN hm__geodata as g ON g.table_link = 'hm__ms' AND g.id_link = hm__ms.id \",\n      \"fields[g.geometry]\": \"Geometry\",\n      \"fields[hm__ms.id]\": \"Id\",\n      \"fields[hm__ms.vimeoimg]\": \"Immagine\",\n      \"fields[hm__ms.tit]\": \"Titolo\",\n      \"fields[hm__ms.aut]\": \"Autore\",\n      \"fields[hm__ms.annoda]\": \"Anno da\",\n      \"fields[hm__ms.annoa]\": \"Anno a\",\n      \"group\": \"hm__ms.id\",\n      \"limit_start\": \"0\",\n      \"limit_end\": \"500\",\n      \"q_encoded\": b64EncodeUnicode( ( where ? '(' + where.replace(/`id`/gi, '`hm__ms`.`id`') + `) AND app LIKE '%${app}%'`: `app LIKE '%${app}%'` ))\n    };\n\n    this._getData(\n      'ms?verb=search&geojson=true&type=encoded',\n      data,\n      d => {\n        cb( d );\n      }\n    );\n  }\n\n}\n","import React, { useState, useEffect} from 'react';\n\nimport { Map, TileLayer, GeoJSON } from 'react-leaflet'\n\nimport Bar from '../Bar/Bar';\n\nimport Database from '../../services/Database';\nimport onEachFeature from './OnEachFeature';\nimport pointToLayer from './PointToLayer';\nimport './Map.css';\n\nimport qs from 'qs';\n\n\n\nexport default function Mappa(props) {\n\n  const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n\n  const lang = props.lang || props.match.params.lang;\n  \n  let center = false;\n  let zoom = 13;\n  if (props.center){\n    center = props.center;\n  } else if(qstring.center){\n    center = qstring.center.split(',').reverse();\n    zoom = 16;\n  }  \n\n  const defCenter = center ? center : [44.4943823,11.3418609];\n\n  const [geoJson, setGeoJson] = useState();\n  \n  const [mapRef] = useState(React.createRef());\n\n\n\n\n  useEffect( () => {\n      Database.getMsGeoJson('1', result => {\n        setGeoJson(result);\n      });\n  }, []);\n\n\n  return (\n    <div className=\"mapContainer\">\n      <Bar lang={lang} />\n\n      <Map center={defCenter} zoom={zoom} style={{ width: '100%', height: '100%'}}\n          ref={mapRef}>\n        <TileLayer\n          // url=\"https://{s}.tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png\"\n          // url=\"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png\"\n          url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n          opacity={.9}\n          attribution=\"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"\n        />\n        \n        {geoJson && <GeoJSON\n              data={geoJson}\n              pointToLayer={ (t, i) => pointToLayer(t, i) }\n              onEachFeature={ (feature, layer) => onEachFeature(feature, layer, lang) }\n              onAdd={ (a)=>{\n                if (!center){\n                  const bounds = a.target.getBounds();\n                  mapRef.current.leafletElement.fitBounds(bounds);\n                }\n              }}\n              />}\n      </Map>\n    </div>\n  );\n}\n","import L from 'leaflet';\nimport {col} from '../../cfg';\n\nexport default  (t, i) => {\n  return new L.CircleMarker(i, {\n    radius: 6,\n    weight: 1,\n    color: col,\n    fillOpacity: .7\n  });\n}","// TODO: usare history per il bottone? come?\nimport {col} from '../../cfg';\n\nexport default  (feature, layer, lang) => {\n  const props = feature.properties;\n  let html = `<h3>${props.tit}</h3>\n  <img src=\"${props.vimeoimg}\"  alt=\"${props.tit}\" />\n  <p>${props.aut}\n  ${props.annoda ? `<br /><strong>${props.annoda}</strong>` : ''}</p>\n  <p class=\"button\"><a style=\"background-color: ${col}\" href=\"/${lang}/clip/${props.id}\">Apri</a></p>\n  `;\n  \n  layer.bindPopup(html);\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Bar from '../Bar/Bar';\n\nimport { Container } from '@material-ui/core';\nimport {app} from '../../cfg';\nimport backGroundImageEr from '../../img/internal-background-er.jpg';\nimport backGroundImageItalia from '../../img/internal-background-er.jpg';\n\nconst useStyles = makeStyles((theme) => ({\n  homeContainer: {\n    backgroundImage: `url(${app === 'er' ? backGroundImageEr : backGroundImageItalia})`,\n    backgroundPosition: 'center center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    maxWidth: '100%',\n    height: '100vh',\n    width: '100vw',\n    position: 'fixed',\n    overflow: 'scroll'\n  }\n}));\n\nexport default function InternalTmpl(props) {\n  const classes = useStyles();\n  const lang = props.lang;\n\n  return <div className={classes.homeContainer}>\n      <Bar lang={lang} />\n        <Container fixed>\n          { props.children }\n        </Container>\n      </div>\n}","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Box from '@material-ui/core/Box';\n\n\n\nexport default function FilterApplied (props) {\n\n    const qs = props.qs;\n\n    let filters = [];\n\n    if (qs.themes) {\n        filters = filters.concat(qs.themes.split(','));\n    }\n    if (qs.author) {\n        filters = filters.concat(qs.author.split(','));\n    }\n    if (qs.places) {\n        filters = filters.concat(qs.places.split(','));\n    }\n    if (qs.decade) {\n        filters = filters.concat(`anni ’${qs.decade}`);\n    }\n\n    if (filters.length === 0){\n        return null;\n    }\n\n    return (\n        <Box ml={1} component=\"span\">\n            <FormattedMessage id=\"app.for\" /> <em>{filters.join(', ')}</em>\n        </Box>\n    );\n}\n\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport LastPageIcon from '@material-ui/icons/LastPage';\nimport { FormattedMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/styles';\n\nimport qString from 'qs';\n\nimport FilterApplied from './FilterApplied';\n\nimport {col} from '../../cfg';\n\n\nconst useStyles = makeStyles((theme) => ({\n    button: {\n      backgroundColor: col,\n      '&:not(:last-child)': {\n        borderRight: '1px solid #fff'\n      },\n      \"&:hover\":{\n        backgroundColor: col\n      }\n    }\n  }));\n\nexport default function Pagination (props) {\n\n    const classes = useStyles();\n\n\n    const history = useHistory();\n\n    const go2page = page => history.push(page);\n\n    const qs = props.qs;\n    const head = props.head;\n\n    const recTotal = parseInt(head.total_rows);\n    const recShownStart = parseInt(head.page)*30-30+1;\n    const recShownEnd = recShownStart + parseInt(head.no_records_shown)-1;\n    const pageCurr = parseInt(head.page);\n    const pageTot = parseInt(head.total_pages);\n    let prevPageLink = false;\n    if (pageCurr - 1 > 0){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageCurr - 1;\n        prevPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let nextPageLink = false;\n    if (pageCurr + 1 <= pageTot){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageCurr + 1;\n        nextPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let firstPageLink = false;\n    if (pageCurr - 1 > 1){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = 1;\n        firstPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n    let lastPageLink = false;\n    if (pageCurr + 2 <= pageTot){\n        let qsCopy = Object.assign({}, qs);\n        qsCopy.page = pageTot;\n        lastPageLink = `./?${qString.stringify(qsCopy)}`;\n    }\n\n    \n\n\n    return (\n        <Box p={1} my={2} style={{background: 'rgba(255, 255, 255, .5)'}}>\n            \n            <Grid\n                justify=\"space-between\"\n                container \n                alignItems=\"center\"\n                >\n                <Grid item>\n                    <FormattedMessage id=\"app.pagination.recap\" values={{start: recShownStart, end: recShownEnd, tot: recTotal}}/>\n                    <FilterApplied qs={qs} />\n                </Grid>\n\n                <Grid item>\n                    <ButtonGroup \n                        size=\"small\" \n                        aria-label=\"small outlined button group\"\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        style={{ background: '#fff'}}\n                        >\n                        { firstPageLink && <Button className={classes.button} onClick={()=>go2page(firstPageLink)}><FirstPageIcon /></Button> }\n                        { prevPageLink  && <Button className={classes.button} onClick={()=>go2page(prevPageLink)}><KeyboardArrowLeft /></Button> }\n                        { (firstPageLink || prevPageLink || nextPageLink || lastPageLink) && <Button className={classes.button} disabled><FormattedMessage id=\"app.pagination.page\" values={{pageNo: pageCurr}}/> </Button>}\n                        { nextPageLink  && <Button className={classes.button} onClick={()=>go2page(nextPageLink)}><KeyboardArrowRight /></Button>}\n                        { lastPageLink && <Button className={classes.button} onClick={()=>go2page(lastPageLink)}><LastPageIcon /></Button>}\n                    </ButtonGroup>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport RoomOutlined from '@material-ui/icons/RoomOutlined';\nimport LocalOfferOutlinedIcon from '@material-ui/icons/LocalOfferOutlined';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport Pagination from './Pagination';\nimport Database from '../../services/Database';\nimport {col} from '../../cfg';\n\nconst useStyles = makeStyles({\n  GridListTitle: {\n    cursor: 'pointer',\n  },\n  GridListTileBar: {\n    background: `${col}7f`,\n    height: '100px'\n  },\n  GridListTileBarTitle: {\n    textTransform: 'uppercase',\n    fontWeight: '900',\n    fontSize: '.9rem'\n  },\n  GridListTileBarSubtitle: {\n    lineHeight: 1.5\n  },\n  IconButton: {\n    color: 'rgba(255, 255, 255, 0.8)',\n  },\n});\n\n// https://stackoverflow.com/a/12646864/586449\n// const shuffleArray = function (result) {\n//   for (let i = result.records.length - 1; i > 0; i--) {\n//       const j = Math.floor(Math.random() * (i + 1));\n//       [result.records[i], result.records[j]] = [result.records[j], result.records[i]];\n//   }\n//   return result;\n// }\n\nexport default function Results(props) {\n  const [result, setResult] = useState(false);\n  const [opacity, makeOpaque] = useState(1);\n\n  const classes = useStyles();\n  const history = useHistory();\n\n  const qs = props.qs;\n  const suppressEmpty = props.suppressEmpty;\n  const title = props.title;\n  const exclude = props.exclude;\n\n  const cols = useMediaQuery('(min-width:960px)') ? 3 : 1;\n\n  useEffect(() => {\n    makeOpaque(.3);\n    // Ricerca per decade\n    if (qs.decade) {\n      Database.getDecade(parseInt(qs.decade), qs.page, result => {\n        setResult(result);\n        makeOpaque(1);\n      });\n    // Ricerca luogo || temi\n    } else if (qs.places || qs.themes) {\n      Database.getByPlacesAndThemse(qs.places, qs.themes, qs.page, result => {\n        setResult(result);\n        makeOpaque(1);\n      });\n    \n    // Ricerca per autore\n    } else if (qs.author) {\n      Database.getByAuthor(qs.author, qs.page, result => {\n        setResult(result);\n        makeOpaque(1);\n      });\n    // Ricerca tutto!\n    } else {\n      Database.getAll(qs.page, result => {\n        setResult(result);\n        makeOpaque(1);\n      });\n    }\n\n  }, [qs]);\n\n  if (!result) {\n    return <CircularProgress />;\n  }\n\n  if (\n    result.head.total_rows === 0 \n    || \n    (result.head.total_rows === 1 && exclude)\n    ) {\n\n    if (suppressEmpty){\n      return null;\n    }\n    return (\n      <Container>\n        <p style={{ color: '#fff', fontSize: '2rem' }}>\n          Nessun risultato trovato!\n        </p>\n      </Container>\n    );\n  }\n\n  return (\n    <Box container=\"div\" style={{ opacity: opacity}}>\n      { title && <h2>{title}</h2>}\n      {!suppressEmpty && <Pagination head={result.head} qs={qs} /> }\n      <GridList cellHeight={280} cols={cols} spacing={40}>\n        { \n        result.records.map((row, k) => {\n          if (exclude && exclude === row.id){\n            return null\n          } else {\n           return ( <GridListTile key={k} className={classes.GridListTitle} onClick={ ()=> {\n            history.push(`../clip/${row.id}`);\n            window.scrollTo(0, 0);\n            if (document.getElementsByClassName('MuiGrid-root').length > 0){\n              document.getElementsByClassName('MuiGrid-root')[0].scrollIntoView({behavior: \"smooth\", block: \"start\", inline: \"nearest\"})\n            }\n          }}>\n            <img\n              src={row.vimeoimg}\n              alt={row.tit}\n            />\n            <GridListTileBar\n              classes={{\n                root: classes.GridListTileBar,\n                title: classes.GridListTileBarTitle,\n                subtitle: classes.GridListTileBarSubtitle,\n              }}\n              title={(\n                <span>\n                  {row.tit}{\" \"}\n                  <Box component=\"span\" mx={2}> | </Box>\n                  {\" \"}\n                  <strong>{row.annoda}{row.annoda !== row.annoa ? `-${row.annoa}` : ''}</strong>\n                </span>\n              )}\n              subtitle={(\n                <span><RoomOutlined fontSize=\"small\" /> {row.luogo}\n                <br /> \n                <LocalOfferOutlinedIcon fontSize=\"small\" /> {row.temi}</span>\n                )}\n                \n              actionIcon={(\n                <IconButton\n                  onClick={ ()=> {\n                    history.push(`../clip/${row.id}`);\n                    window.scrollTo(0, 0);\n                  }}\n                  aria-label={`info about ${row.tit}`}\n                  classes={{ root: classes.IconButton }}\n                >\n                  <KeyboardArrowRightIcon />\n                </IconButton>\n              )}\n            />\n          </GridListTile>\n        )}})\n      }\n      </GridList>\n      {!suppressEmpty  && result.head.total_pages > 1 && <Pagination head={result.head} qs={qs} /> }\n    </Box>\n  );\n}\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst FilterContext = createContext({});\n\nfunction toggleList(arrayList, value) {\n  if (arrayList.includes(value)) {\n//    return arrayList.filter((el) => el !== value);\n    arrayList.pop();\n    return arrayList;\n  }\n  // Con la nuova modifica viene effettuata la ricerca direttamente con l'elemento selezionato\n  // Non cancello la logica ma rimuovo i valori presenti nella lista\n  arrayList.pop();\n  arrayList.push(value);\n  return arrayList;\n}\n\nfunction isValidDate(date) {\n  return /^(19|20)\\d{2}$/.test(date);\n}\n\nexport function FilterContextComponent({ children }) {\n  const [themeList, setThemeList] = useState([]);\n  const [placesList, setPlacesList] = useState([]);\n  const [yearFrom, setYearFrom] = useState(undefined);\n  const [yearTo, setYearTo] = useState(undefined);\n\n  const toggleThemes = (theme) => setThemeList(toggleList(themeList, theme));\n  const isThemeSelected = (theme) => themeList.includes(theme);\n\n  const togglePlaces = (place) => setPlacesList(toggleList(placesList, place));\n  const isPlaceSelected = (place) => placesList.includes(place);\n\n  const getThemeQueryFilter = () => (themeList.length > 0 ? `themes=${themeList.map((theme) => theme)}` : ' ');\n  const getPlaceQueryFilter = () => (placesList.length > 0 ? `places=${placesList.map((theme) => theme)}` : '');\n\n  const addYearFromToQuery = (date) => {\n    if (isValidDate(date)) {\n      setYearFrom(date);\n    }\n  };\n  const getYearFromQueryFilter = () => (yearFrom ? `year_start=${yearFrom}` : '');\n\n  const addYearToToQuery = (date) => {\n    if (isValidDate(date)) {\n      setYearTo(date);\n    }\n  };\n\n  const getYearToQueryFilter = () => (yearTo ? `year_end=${yearTo}` : '');\n\n  const initFilters = (filterToInit) => {\n    switch (filterToInit) {\n      case 'theme':\n        themeList.pop();\n        break;\n\n      case 'places':\n        setPlacesList([]);\n        break;\n\n      default:\n        setThemeList();\n        setPlacesList();\n        break;\n    }\n  };\n\n  const getQueryFilters = () => {\n    const q_arr = [\n      getThemeQueryFilter(),\n      getPlaceQueryFilter(),\n      getYearFromQueryFilter(),\n      getYearToQueryFilter()\n    ];\n    const query = q_arr.filter( e => e && e.trim() !== '').join('&');\n\n    return `?${query}`;\n  };\n\n  return (\n    <FilterContext.Provider\n      value={{ \n        themeList, \n        toggleThemes, \n        isThemeSelected, \n        setThemeList, \n        getQueryFilters, \n        togglePlaces, \n        placesList, \n        setPlacesList, \n        isPlaceSelected, \n        initFilters, \n        addYearFromToQuery, \n        addYearToToQuery, \n        yearFrom, \n        yearTo \n      }}\n    >\n      {children}\n    </FilterContext.Provider>\n  );\n}\n\nFilterContextComponent.defaultProps = {\n  children: null,\n};\n\nFilterContextComponent.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default FilterContext;\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Fab } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\nimport FilterContext from '../FilterContext';\nimport {col} from '../../../cfg';\n\nconst useStyles = makeStyles(() => ({\n  fabTheme: {\n    borderRadius: '0 !important',\n    padding: '0.5em',\n    margin: '0.2em',\n    fontSize: '0.7rem',\n    textTransform: 'capitalize',\n    '&:hover': {\n      backgroundColor: col,\n      color: '#fff',\n    },\n  },\n  selected: {\n    backgroundColor: col,\n    color: '#fff',\n    '&:hover': {\n      // backgroundColor: '#e0e0e0',\n      // color: '#000',\n    },\n  },\n}));\n\nexport default function ThemeElement(props) {\n  const { toggleThemes } = useContext(FilterContext);\n  const { themeValue, selected, applyFilter } = props;\n  const [fabSelected, setFabSelected] = useState(selected);\n  const classes = useStyles();\n\n  const selectValue = () => {\n    setFabSelected((!fabSelected));\n    toggleThemes(themeValue);\n    applyFilter();\n  };\n\n  return (\n    <Fab\n      className={fabSelected ? classNames([classes.fabTheme, classes.selected]) : classes.fabTheme}\n      variant=\"extended\"\n      size=\"small\"\n      onClick={() => selectValue()}\n    >\n      {themeValue}\n    </Fab>\n  );\n}\n\nThemeElement.defaultProps = {\n  themeValue: null,\n  selected: false,\n  applyFilter: null,\n};\n\nThemeElement.propTypes = {\n  themeValue: PropTypes.string,\n  selected: PropTypes.bool,\n  applyFilter: PropTypes.func,\n};\n","import React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Database from '../../../services/Database';\nimport ThemeElement from './ThemeElement';\nimport FilterContext from '../FilterContext';\n\nimport {app} from '../../../cfg';\n\nexport default function ThemesList(props) {\n  const { isThemeSelected, placesList } = useContext(FilterContext);\n  const { applyFilter } = props;\n  const [themes, setThemes] = useState(null);\n\n  useEffect(() => {\n    Database.getUniqueVal('temi', null, `app|LIKE|%${app}%${placesList[0] ? `||and|luogo|=|${placesList[0]}` : ''}`, (result) => {\n      setThemes(result.sort());\n    });\n  }, [placesList]);\n\n  return (\n    <React.Fragment>\n      <h2>\n        <FormattedMessage id=\"app.themes\" />\n      </h2>\n      {themes && themes.map((e, i) => {\n        return (\n        <ThemeElement key={i} themeValue={e.trim()} selected={isThemeSelected(e.trim())} applyFilter={applyFilter} />\n        );\n      })}\n    </React.Fragment>\n  );\n}\n\nThemesList.defaultProps = {\n  applyFilter: null,\n};\n\nThemesList.propTypes = {\n  applyFilter: PropTypes.func,\n};\n","import React, { useState, useContext } from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport { useHistory } from 'react-router-dom';\nimport { Button, Dialog, AppBar, Toolbar, IconButton, Slide, DialogContent, Grid, Paper } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\nimport { FormattedMessage } from 'react-intl';\nimport ThemesList from './Filters/ThemesList';\nimport FilterContext from './FilterContext';\n\nimport {col} from '../../cfg';\n\nconst useStyles = makeStyles((theme) => ({\n  dialogContainer: {\n    '& .MuiDialog-paperFullScreen': {\n      backgroundColor: '#000000f2',\n    },\n  },\n  filterBtn: {\n    backgroundColor: '#fff',\n    padding: '.4em 2em',\n    fontSize: '1em',\n    borderRadius: '2px',\n    color: '#000',\n    fontWeight: '600',\n    '&:hover': {\n      backgroundColor: '#e0e0e0',\n    },\n  },\n  appBar: {\n    position: 'relative',\n    backgroundColor: 'transparent',\n    boxShadow: 'none',\n    display: 'flex',\n    flexDirection: 'row-reverse',\n  },\n  iconMenu: {\n    fontSize: '2.5rem',\n  },\n  dialogContent: {\n    '& h2': {\n      fontSize: '3.2em',\n      marginBottom: '0.2em',\n      marginTop: '0',\n    },\n  },\n  paper: {\n    backgroundColor: 'transparent',\n    color: '#fff',\n    textAlign: 'left',\n    [theme.breakpoints.down(960)]: {\n      textAlign: 'center',\n    },\n  },\n  footerContainer: {\n    padding: '0',\n  },\n  clearIcon: {\n    fontSize: '2.3rem',\n    marginRight: '0.2em',\n  },\n  clearBtn: {\n    color: '#989898',\n    fontWeight: 'bold',\n    fontSize: '1.2em',\n  },\n  applyBtn: {\n    backgroundColor: col,\n    color: '#fff',\n    padding: '0.4em 3em',\n    fontSize: '1.6em',\n    borderRadius: '0',\n    '&:hover': {\n      backgroundColor: '#530e92',\n    }\n  },\n}));\n\nconst Transition = React.forwardRef((props, ref) => <Slide direction=\"up\" ref={ref} {...props} />);\n\nexport default function FilterModal() {\n  const { getQueryFilters } = useContext(FilterContext);\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const history = useHistory();\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const applyFilters = () => {\n    history.push(getQueryFilters());\n    handleClose();\n  };\n\n  return (\n    <div>\n      <Button\n        color=\"primary\"\n        className={classes.filterBtn}\n        onClick={handleClickOpen}\n      >\n        <FormattedMessage id=\"app.themes\" />\n      </Button>\n      <Dialog\n        className={classes.dialogContainer}\n        fullScreen\n        open={open}\n        onClose={handleClose}\n        TransitionComponent={Transition}\n      >\n        <AppBar className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              onClick={handleClose}\n              aria-label=\"close\"\n            >\n              <CloseIcon className={classes.iconMenu} />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <DialogContent className={classes.dialogContent}>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <Paper className={classes.paper}>\n                <ThemesList applyFilter={applyFilters} />\n              </Paper>\n            </Grid>\n          </Grid>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { FormattedMessage } from 'react-intl';\nimport { useHistory } from 'react-router-dom';\nimport { app } from '../../cfg';\nimport Database from '../../services/Database';\nimport { makeStyles } from '@material-ui/styles';\nimport FilterContext from './FilterContext';\n// TODO:\n// Modificare lo stile\n\nconst useStyles = makeStyles(theme => ({\n  autoComplete: {\n    border: 'none',\n    borderBottom: '1px solid #fff',\n    color: '#fff !important',\n    backgroundColor: 'rgba(0,0,0,.3)',\n    padding: '0 .5rem',\n    '& .MuiAutocomplete-input, & .MuiAutocomplete-popupIndicator, & .MuiAutocomplete-clearIndicator, & .MuiFormLabel-root, & .MuiFormLabel-root.Mui-focused': {\n      color: '#fff !important',\n    },\n  },\n}));\n\nexport default function PlacesAutocomplete() {\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [places, setPlaces] = useState([]);\n  const classes = useStyles();\n  const { togglePlaces, getQueryFilters, initFilters } = useContext(FilterContext);\n  const history = useHistory();\n\n  const searchPlace = (place) => {\n    setLoading(true);\n    Database.getUniqueVal('luogo', place, `app|LIKE|%${app}%`, (result) => {\n      setPlaces(result.sort());\n      setLoading(false);\n    });\n  };\n\n  const applyFilters = () => {\n    history.push(getQueryFilters());\n  };\n\n  const doSearch = (el) => {\n    if (el === '') {\n      initFilters('places');\n    } else {\n      togglePlaces(el);\n    }\n    applyFilters();\n  };\n\n  return (\n    <Autocomplete\n      id=\"place\"\n      className={classes.autoComplete}\n      open={open}\n      noOptionsText={<FormattedMessage id=\"app.autocomplete.type\" />}\n      onOpen={() => {\n        setOpen(true);\n      }}\n      onClose={() => {\n        setOpen(false);\n      }}\n      onChange={ (event, values) => {\n        doSearch(values);\n      }}\n      //getOptionSelected={(option, value) => option.name === value.name}\n      //getOptionLabel={option => option.name}\n      options={places}\n      loading={loading}\n      renderInput={params => (\n        <FormattedMessage id=\"app.filterModal.places\">\n          {placeholder => (\n            <TextField\n              {...params}\n              label={placeholder}\n              fullWidth\n              onChange={ (event) => {\n                searchPlace(event.target.value);\n              }} \n              variant=\"standard\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <React.Fragment>\n                    {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                    {params.InputProps.endAdornment}\n                  </React.Fragment>\n                ),\n              }}\n            />\n          )}\n        </FormattedMessage>\n      )}\n    />\n  );\n}\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport Button from '@material-ui/core/Button';\nimport FilterContext from './FilterContext';\n\nexport default function Search(props) {\n\n  const { setThemeList, setPlacesList, getQueryFilters } = useContext(FilterContext);\n\n  const history = useHistory();\n\n  const resetSeach = () => {\n    setThemeList([]);\n    setPlacesList([]);\n    history.push('./');\n  };\n\n  return (\n    <React.Fragment>\n      <Button \n          classes={ props.classes } \n          className={ getQueryFilters().length > 1 ? 'active' : ''} \n          onClick={() => resetSeach()}\n      >\n        <FormattedMessage id=\"app.search.all\" />\n      </Button>\n    </React.Fragment>\n                  \n  );\n}\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport FilterContext from './FilterContext';\n\nexport default function Search(props) {\n\n  const { getQueryFilters } = useContext(FilterContext);\n\n  const history = useHistory();\n\n  const setDecade = (dec) => {\n    history.push(`./?decade=${dec}`);\n  };\n\n  if (getQueryFilters().length > 1){\n    return null;\n  }\n\n  return (\n    <React.Fragment>\n      {\n        [30, 40, 50, 60, 70, 80].map((e, i) => {\n          return (<Button\n                    classes={ props.classes }\n                    className={ Number(props.currDecade) === e ? 'active' : ''}\n                    key={i}\n                    onClick={() => setDecade(e)}>'{e}\n                  </Button>\n                  )\n          })\n      }\n    </React.Fragment>\n                  \n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport qs from 'qs';\n\nimport InternalTmpl from '../Templates/InternalTmpl';\n\nimport Results from './Results';\nimport FilterModal from './FilterModal';\nimport { FilterContextComponent } from './FilterContext';\nimport {col, title} from '../../cfg';\nimport PlacesAutocomplete from './PlacesAutocomplete';\nimport ResetButton from './ResetButton';\nimport Decades from './Decades';\n\nconst useStyles = makeStyles((theme) => ({\n  boxContainer: {\n    height: 200,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    marginBottom: '4rem',\n\n  },\n  textBox: {\n    color: '#fff',\n    marginTop: '1em',\n    paddingTop: '1em',\n    [theme.breakpoints.down('xs')]: {\n      marginTop: '2.5em',\n    },\n  },\n  mainTitle: {\n    fontSize: '2em',\n    marginBlockStart: '0',\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '1.5em',\n    },\n  },\n  yearButton: {\n    color: '#fff',\n    fontWeight: '900',\n    '&.active': {\n      backgroundColor: col,\n    },\n    [theme.breakpoints.down('xs')]: {\n      fontSize: '.7em',\n    },\n  },\n  filterContainer: {\n    textAlign: 'right',\n    marginTop: '1em',\n    marginBottom: '1em',\n  },\n}));\n\nexport default function Search(props) {\n\n  const classes = useStyles();\n  const qstring = qs.parse(props.location.search, {ignoreQueryPrefix: true});\n  const lang = props.lang || props.match.params.lang;\n\n  return (\n    <InternalTmpl lang={lang}>\n      <Typography className={classes.boxContainer} component=\"div\">\n        <Box className={classes.textBox}>\n            <Button href=\"https://homemovies.it/memoryscapes/ \" target=\"_blank\" style={{ color: '#fff', fontWeight: 'bold', paddingLeft: 0}}>\n              memoryscapes\n            </Button>\n          <h1 className={classes.mainTitle}>{title.main}</h1>\n        </Box>\n\n        <Box>\n          <Grid container justify=\"space-between\" alignItems=\"center\">\n            <FilterContextComponent>\n              <Grid item xs={12} md={7}>\n                <Box component=\"div\">\n                  <ResetButton classes={{root: classes.yearButton}}  />\n                  <Decades classes={{root: classes.yearButton}} currDecade={ qstring.decade } />\n                </Box>\n              </Grid>\n\n              <Grid item className={classes.filterContainer} xs={8} md={3}>\n                <PlacesAutocomplete />\n              </Grid>\n\n              <Grid item className={classes.filterContainer} xs={4} md={2}>\n                <FilterModal />\n              </Grid>\n            </FilterContextComponent>\n          </Grid>\n\n        </Box>\n        {/* Fine barra di ricerca */}\n\n      </Typography>\n\n      <Results qs={qstring} />\n    </InternalTmpl>\n  );\n}\n","import React, { useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport Fab from '@material-ui/core/Fab';\nimport Button from '@material-ui/core/Button';\nimport RoomOutlined from '@material-ui/icons/RoomOutlined';\nimport { makeStyles } from '@material-ui/styles';\nimport { FormattedMessage } from 'react-intl';\nimport Vimeo from '@u-wave/react-vimeo';\n\nimport MetaTags from 'react-meta-tags';\n\nimport Results from '../Search/Results';\nimport Database from '../../services/Database';\nimport {col} from '../../cfg';\n\nconst useStyles = makeStyles(() => ({\n  fabTheme: {\n    borderRadius: '0 !important',\n    padding: '0.5em',\n    margin: '0.2em',\n    fontSize: '0.7rem',\n    textTransform: 'capitalize',\n    height: '2.2rem',\n    '&:hover': {\n      backgroundColor: col,\n      color: '#fff',\n    },\n  },\n  button: {\n    color: '#fff',\n    textTransform: 'none',\n    textAlign: 'left',\n    padding: 0,\n    textDecoration: 'none',\n    '&:hover': {\n      fontWeight: 'bold'\n    }\n  },\n  videoWrapper: {\n    height: 0,\n    overflow: 'hidden',\n    paddingBottom: '75%',\n    paddingTop: '30px',\n    position: 'relative',\n  },\n  iframe: {\n    height: '100%',\n    left: 0,\n    position: 'absolute',\n    top: 0,\n    width: '100%'\n  }\n}));\n\nconst Wkt2Arr = function(wkt){\n  wkt = wkt.trim();\n  wkt = wkt.replace(\"POINT(\", '');\n  wkt = wkt.replace(\")\", '');\n  return wkt.split(' ').map(e=>Math.round(parseFloat(e) * 1000) / 1000);\n};\n\nexport default function Record(props) {\n\n  const classes = useStyles();\n\n\n  const [result, setResult] = useState();\n  const history = useHistory();\n\n  const clipId = props.id;\n\n  useEffect( () => {\n    Database.getOne(parseInt(clipId), result => {\n      setResult(result);\n    });\n  }, [clipId]);\n  \n  if (!result){\n    return <CircularProgress />\n  }\n\n  const item = result.core;\n  const geoD = result.geodata[0];\n  \n  return (\n    <Box style={{ color: '#fff' }}>\n      <MetaTags>\n        <meta property=\"og:title\" content={`Memoryscapes: ${item.tit.val}`} />\n        <meta property=\"og:description\" content=\"Memoryscapes: la prima piattaforma online sul cinema privato in Italia\" />\n        <meta property=\"og:image\" content={ item.vimeoimg.val } />\n        <meta property=\"og:url\" content={window.location} />\n        <title>Memoryscapes: {item.tit.val}</title>\n      </MetaTags>\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={12} md={6} style={{ textAlign: 'center'}}>\n          <h1>{item.tit.val}</h1>\n          <div className={classes.videoWrapper}>\n            <Vimeo \n              video={`https://vimeo.com/${item.vimeo.val}`}\n              responsive={true}\n               />\n          </div>\n          \n        </Grid>\n      </Grid>\n\n\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={6} md={2}>\n          <Box my={5}>\n\n            <h3><FormattedMessage id=\"app.clip.author\" /></h3>\n            <Button className={classes.button} onClick={ ()=>{\n              history.push(`../search/?author=${item.aut.val}`)\n            }}>{ item.aut.val }</Button>\n            \n            <h3><FormattedMessage id=\"app.clip.place\" /></h3>\n            <Button className={classes.button} onClick={ ()=>{\n              history.push(`../search/?places=${item.luogo.val}`)\n            }}>{ item.luogo.val }</Button>\n            \n            <h3><FormattedMessage id=\"app.clip.inv\" /></h3>\n            { item.inv.val }\n\n          </Box>\n        </Grid>\n        <Grid item xs={6} md={2}>\n          <Box my={5}>\n            <h3><FormattedMessage id=\"app.clip.format\" /></h3>\n            { item.formato.val }\n\n            <h3><FormattedMessage id=\"app.clip.year\" /></h3>\n            { item.annoda.val }\n            { item.annoda.val !== item.annoa.val ? `-${item.annoa.val}` : ''}\n\n            {geoD && <React.Fragment><h3><FormattedMessage id=\"app.clip.map\" /></h3>\n            <Button className={classes.button} onClick={ ()=>{\n              history.push(`../map/?center=${Wkt2Arr(geoD.geometry).join(\",\")}`)\n            }}><RoomOutlined fontSize=\"small\" /> </Button></React.Fragment>}\n          </Box>\n        </Grid>\n        <Grid item xs={12} md={2}>\n          <Box my={5}>\n            { item.descr.val }\n          </Box>\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={1} justify=\"center\">\n        <Grid item xs={8} style={{ textAlign: 'center'}}>\n        <h3><FormattedMessage id=\"app.themes\" /></h3>\n          {\n            item.temi.val.split(';').map( (e, i) =>  {\n              return <Fab \n                  key={i} \n                  variant=\"extended\" \n                  className={classes.fabTheme} \n                  onClick={()=>history.push(`../search/?themes=${e.trim()}`)}>\n                    {e.trim()}\n                  </Fab>\n            })\n          }\n        </Grid>\n      </Grid>\n\n      <Box my={5} py={3} borderTop={1} borderColor=\"grey.500\" textAlign=\"center\">\n      \n      <Button className={classes.button} onClick={ ()=>{\n              history.push('../search/')\n            }}><FormattedMessage id=\"app.clip.back2collection\" /></Button>\n      </Box>\n      <Results\n            qs={{ places: item.luogo.val }} \n            exclude={item.id.val}\n            suppressEmpty={true} \n            title={<FormattedMessage \n            id=\"app.clip.same_place\" values={{ place: item.luogo.val }} />} />\n    </Box>\n  );\n}","import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport InternalTmpl from '../Templates/InternalTmpl';\n\nimport Record from './Record';\n\nexport default function Clip(props) {\n\n  const clipId = props.match.params.id;\n  const lang = props.match.params.lang;\n\n  return (\n    <InternalTmpl lang={lang}>\n      <Box pt='5rem'>\n        <Record id={clipId}/>\n      </Box>\n    </InternalTmpl>\n  );\n}\n","import React from 'react';\nimport { Container } from '@material-ui/core';\nimport Bar from '../Bar/Bar';\n\nimport './BlackTmpl.scss';\n\nexport default function BlackTmpl(props) {\n  const lang = props.lang;\n\n  return (\n    <div className=\"blackBg\">\n      <Bar lang={lang} />\n      <Container className=\"mw-700\">\n        { props.children }\n      </Container>\n    </div>\n  );\n  \n}\n","import React from 'react';\n\nexport default function ER() {\n\n  return (\n    <React.Fragment>\n      <p><strong>percorsi tematici, geografici e cronologici nel cinema privato</strong></p>\n\n      <p><em>lungo la via emilia</em> è la prima uscita di memoryscapes, il progetto di Home Movies per \n      l’accesso on line al patrimonio audiovisivo privato del secolo scorso.</p>\n      \n      <p><em>lungo la via emilia</em> propone una fruizione esperienziale e narrativa dei contenuti \n      d’archivio per mezzo di chiavi d’accesso ai temi presenti nelle pellicole, \n      alla geografia dei luoghi filmati, alla cronologia e agli autori/autrici. \n      Un viaggio nel tempo e nello spazio, dagli Appennini al Po, dalle città alla \n      pianura e al mare. Ogni singola clip costituisce una microstoria e allo stesso \n      tempo diviene una singola tessera di un mosaico di storie virtualmente infinito \n      e componibile liberamente. Buona navigazione!</p>\n\n      <p><em>lungo la via emilia</em> è frutto di un lungo lavoro di ricerca, selezione, \n      descrizione, digitalizzazione ed edizione video di pellicole Super8, 8mm, 16mm e 9,5mm \n      girate tra gli anni ‘30 e gli anni ‘80 del XX secolo.</p>\n      \n      <p>Per commenti e suggerimenti: <a href=\"https://www.homemovies.it\">homemovies.it</a></p>\n\n      <h3>Credits</h3>\n\n      <p>Un progetto di Home Movies</p>\n      \n      <p><strong>Comitato scientifico</strong>: Marco Bertozzi (IUAV), Luisa Cigognetti (Istituto Storico Parri), \n      Michele Guerra (Università di Parma), Giacomo Manzoli (Università di Bologna),\n      Rick Prelinger (University of California Santa Cruz).</p>\n\n      <h4>Team del progetto</h4>\n      <ul style={{ listStyle: 'none'}}>\n        <li>Direzione: Paolo Simoni</li>\n        <li>Architettura e gestione dei contenuti: Ilaria Ferretti</li>\n        <li>Producer: Giulia Simi</li>\n        <li>Ricerche, descrizioni ed editing: Ilaria Ferretti, Chiara Petrucci, Silvia Savorelli, Paolo Simoni</li>\n        <li>Restauro e digitalizzazione pellicole: Mirco Santi, Giuseppe Fara</li>\n        <li>Post-produzione video: Michele Manzolini, Davide Bianchi, Tommaso Querin</li>\n        <li>Realizzazione db e web: Bradypus</li>\n        <li>Grafica: Giulia Ripa</li>\n      </ul>\n\n      <h4>Partner istituzionali</h4>\n      <p>Istituto Storico Parri e Kinè società cooperativa</p>\n      <p>Il progetto è realizzato con il contributo di Regione Emilia-Romagna e MiBACT</p>\n\n      <p>Gli archivi audiovisivi da cui sono tratte le clip sono stati raccolti, \n      digitalizzati, catalogati assieme a: Associazione Home Movies Emilia Romagna \n      nel quadro di un’attività sostenuta da Comune di Reggio Emilia. Reggiani per \n      esempio), Università di Modena e Reggio Emilia, Biblioteca Panizzi, Associazione \n      Sguardi in Camera di Ravenna e Cineteca di Rimini.</p>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\n\nexport default function ER() {\n\n  return (\n    <React.Fragment>\n      <p><strong>percorsi tematici, geografici e cronologici nel cinema privato</strong></p>\n\n      <p><em>cartoline italiane</em> è la seconda serie di memoryscapes, il progetto di \n      Home Movies per l’accesso on line al patrimonio audiovisivo privato del secolo scorso.</p>\n\n      <p><em>cartoline italiane</em> propone una fruizione esperienziale e narrativa dei contenuti\n       d’archivio per mezzo di chiavi d’accesso ai temi presenti nelle pellicole, alla geografia \n       dei luoghi filmati, alla cronologia e agli autori/autrici. Un percorso del Bel Paese \n       nelle immagini degli italiani che ne hanno filmato i paesaggi, le città e i borghi a \n       futura memoria. Ogni singola clip costituisce una microstoria e allo stesso tempo diviene \n       un singolo tassello di un mosaico di storie virtualmente infinito e componibile liberamente. \n       Buona navigazione!</p>\n\n      <p><em>memoryscapes</em> è frutto di un lungo lavoro di ricerca, selezione, descrizione, \n      digitalizzazione ed edizione video di pellicole Super8, 8mm, 16mm e 9,5mm girate tra \n      gli anni ‘20 e gli anni ‘80 del XX secolo.</p>\n      \n      <p>Per commenti e suggerimenti: <a href=\"https://www.homemovies.it\">homemovies.it</a></p>\n\n      <h3>Credits</h3>\n\n      <p>Un progetto di Home Movies</p>\n      \n      <p><strong>Comitato scientifico</strong>: Marco Bertozzi (IUAV), Luisa Cigognetti (Istituto Storico Parri), \n      Michele Guerra (Università di Parma), Giacomo Manzoli (Università di Bologna),\n      Rick Prelinger (University of California Santa Cruz).</p>\n\n      <h4>Team del progetto</h4>\n      <ul style={{ listStyle: 'none'}}>\n        <li>Direzione: Paolo Simoni</li>\n        <li>Architettura e gestione dei contenuti: Ilaria Ferretti</li>\n        <li>Producer: Giulia Simi</li>\n        <li>Ricerche, descrizioni ed editing cartoline italiane: Davide Bianchi, Ilaria Ferretti, Michele Manzolini, Mirco Santi, Paolo Simoni</li>\n        <li>Restauro e digitalizzazione pellicole: Mirco Santi, Giuseppe Fara</li>\n        <li>Post-produzione video: Michele Manzolini, Davide Bianchi, Tommaso Querin</li>\n        <li>Realizzazione db e web: Bradypus</li>\n        <li>Grafica: Giulia Ripa</li>\n      </ul>\n\n      <h4>Partner istituzionali</h4>\n      <p>Istituto Storico Parri e Kinè società cooperativa</p>\n      <p>Il progetto è realizzato con il contributo di Regione Emilia-Romagna e MiBACT</p>\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { Typography, Box } from '@material-ui/core';\nimport BlackTmpl from '../Templates/BlackTmpl';\n\nimport {app, title} from '../../cfg';\nimport ER from './ER';\nimport Italia from './Italia';\n\nconst useStyles = makeStyles((theme) => ({\n  boxContainer: {\n    padding: theme.spacing(3, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n\n  },\n  textBox: {\n    textAlign: 'center',\n    color: '#fff',\n  },\n  mainTitle: {\n    fontSize: '3.2em',\n    letterSpacing: '0.1em',\n    marginBlockStart: '0',\n  },\n  \n}));\n\nexport default function About(props) {\n  const classes = useStyles();\n  const lang = props.lang || props.match.params.lang;\n\n  return (\n    <BlackTmpl lang={lang}>\n      <Typography className={classes.boxContainer} component=\"div\">\n        <Box className={classes.textBox}>\n          <h5>MEMORYSCAPES</h5>\n          <h2 className={classes.mainTitle}>\n            {title.main}\n          </h2>\n          { app === 'er' ? <ER /> : <Italia />}\n        </Box>\n      </Typography>\n    </BlackTmpl>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nimport { MuiThemeProvider, CssBaseline } from '@material-ui/core';\nimport { IntlProvider } from 'react-intl';\nimport theming from './services/theming';\n\nimport itMessages from './translations/it.json';\nimport enMessages from './translations/en.json';\n\nimport Intro from './components/Intro/Intro';\nimport Map from './components/Map/Map';\nimport Search from './components/Search/Search';\nimport Clip from './components/Clip/Clip';\nimport About from './components/About/About';\nimport ReactGA from 'react-ga';\n\n\nif(window.location.href.match(/homemovies\\.it/g)){\n  ReactGA.initialize('UA-151640045-2');\n  ReactGA.pageview(window.location.pathname + window.location.search);\n}\n\nconst messages = {\n  it: itMessages,\n  en: enMessages,\n};\n\nexport default function App() {\n  const [theme] = useState(theming.defaultTheme);\n  const [lang, setLang] = useState('it');\n  return (\n    <IntlProvider locale={lang} messages={messages[lang]}>\n      <MuiThemeProvider theme={theme}>\n        <CssBaseline />\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/\" component={() => <Intro changeLang={setLang} />} />\n            <Route exact path=\"/:lang(en|it)/map/\" component={Map} />\n            <Route exact path=\"/:lang(en|it)/search/\" component={Search} />\n            <Route exact path=\"/:lang(en|it)/clip/:id\" component={Clip} />\n            <Route exact path=\"/:lang(en|it)/about\" component={About} />\n          </Switch>\n        </BrowserRouter>\n      </MuiThemeProvider>\n    </IntlProvider>\n  );\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n// import registerServiceWorker from './registerServiceWorker';\nimport { unregister } from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// registerServiceWorker();\nunregister();\n","module.exports = __webpack_public_path__ + \"static/media/internal-background-er.a7496dd4.jpg\";"],"sourceRoot":""}